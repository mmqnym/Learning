# Managing tables

本章節主要關注:

Database, Table, Schemas 的 Create, Alter, Drop 以及 資料類型 還有
 Table 的 Insert, Update, Delete

在關聯式資料庫管理系統（RDBMS，Relational Database Management System）中，

資料的組織方式遵循明確的層級結構，以確保高效管理、權限控管以及查詢性能的優化。

這種層級化設計讓開發者能夠清楚地區分不同層次的數據，從最上層的 資料庫（Database）到中間的 Schema（綱要），再到最底層的 資料表（Table）。

## Database

Database 是整個資料存儲體系的「最高層級」，它負責管理所有的 Schema、Table、索引（Indexes）、儲存空間 以及 存取權限。

可以把 Database 想像成一個大型的「檔案夾」，裡面存放了許多 Schema，而 Schema 內又包含了各種 Table，用來儲存實際的業務數據。

在實務應用中，一個 Database 通常對應一個業務應用系統。

## Schema

Schema 是 Database 內的邏輯分區（Logical Partition），負責 組織與隔離數據，讓數據管理更加有條理。

在一些支援 Schema 的資料庫系統（如 PostgreSQL、SQL Server）中，每個 Schema 相當於一個獨立的命名空間（Namespace），它可以包含多張 Table、索引、視圖（Views）等物件。

這讓我們能夠有效地將數據進行分類管理，例如：

在多租戶架構（Multi-Tenant Architecture）下，每個租戶的數據可以存放在獨立的 Schema 內，例如 companyA、companyB。

在大型企業系統中，可以透過 Schema 區分不同業務領域的數據，例如 HR（人資）、Sales（銷售）、Finance（財務）。

## Table

Table（資料表） 是 存放具體數據的最小單位，所有的業務數據最終都會儲存在 Table 內。

Table 由 欄位（Columns） 和 記錄（Rows） 組成，每個欄位定義了一個屬性，而每一筆記錄則是具體的數據。

在一個企業的 Schema 內，可能包含多張不同的 Table，例如：

- employees（員工表）：存放員工的基本資訊（如姓名、職稱、薪資）。
- payroll（薪資表）：記錄員工的薪資發放情況。
- attendance（考勤表）：記錄員工的打卡與出勤狀況。

# Creating & Dropping database

建立 database 非常簡單，因為複雜的屬性定義會在 Table 上進行。

- 用法:

```sql
CREATE DATABASE <database_name>;
```

- 練習:

```sql
CREATE DATABASE my_database
-- 指定編碼為 ASCII，不指定編碼則預設為 UTF-8
WITH ENCODING = 'ASCII';

-- 雖說可以使用 "" 來包裹資料庫名稱，以建立包含空格或大寫的資料庫名稱，但不建議使用，因為這不是一個典型操作
-- 不使用雙引號進行如下的操作，在 SQL 中是會報錯的
CREATE DATABASE "My Database";

-- 建議一律以小寫字母來命名資料庫，若有多個單字組合，則以 _ 連接
CREATE DATABASE my_new_database;

-- 可以使用以下指令對資料庫加上備註
COMMENT ON DATABASE my_new_database IS '這是一個新的資料庫';
```

以下是如何刪除資料庫的指令介紹

- 用法:

```sql
DROP DATABASE <database_name>;
```

- **挑戰 1**:

Create a database called "customer" and then drop that same database again.

Write both commands together in the solution.

Use ";" to declare the end of the commands.

<details>
    <summary>參考答案</summary>

```sql
CREATE DATABASE customer;
DROP DATABASE customer;
```
</details>

<br/>

# 額外參考來源

[資料庫層級結構](https://realnewbie.com/basic-concent/database/database-hierarchy-relationship-and-application-of-database-schema-table/) By 徐培鈞