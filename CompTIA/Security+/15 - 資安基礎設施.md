# 資安基礎設施

## 概述

-   **Security Infrastructure**（安全基礎設施）：包含硬體、軟體、網路、資料和政策，共同協作以保護組織的資訊和資產的系統。

## 網路安全基礎

-   **Ports and Protocols**（埠號與協定）：用於網路通訊的標準化方法與端點。

-   **Firewalls**（防火牆）：控制網路流量進出的安全裝置，根據預設規則允許或阻擋特定流量。

    -   **Web Application Firewalls**（網頁應用程式防火牆）：專為保護網頁應用程式設計
    -   **Unified Threat Management Systems**（統一威脅管理系統）：整合多種安全功能的綜合性安全解決方案
    -   **Next-Generation Firewalls**（新一代防火牆）：結合傳統防火牆與進階安全功能的現代解決方案
    -   **Layer 4 Firewall**（第 4 層防火牆）：工作於 OSI 模型的傳輸層
    -   **Layer 7 Firewall**（第 7 層防火牆）：工作於 OSI 模型的應用層
    -   分為硬體防火牆和軟體防火牆，運作方式不同

-   **Firewall Configuration**（防火牆設定）：防火牆規則與存取控制的配置過程。
    -   包含規則設定和存取控制清單（ACL）的建立
    -   埠號和協定的選擇配置
    -   屏蔽子網路（Screened Subnets）的設定

## 入侵偵測與防禦

-   **IDS**（入侵偵測系統）：監控網路或系統活動以識別可疑行為或政策違規的安全系統。

    -   用於識別潛在威脅和安全事件
    -   透過特徵識別（Signatures）檢測已知的攻擊模式

-   **IPS**（入侵防禦系統）：除了偵測可疑活動外，還能主動採取行動阻止或防範潛在威脅的安全系統。
    -   具備主動防禦機制，能自動回應偵測到的威脅
    -   提供比 IDS 更積極的安全防護措施

## 網路設備與安全

-   **Network Appliances**（網路設備）：專為執行特定網路功能或服務而設計的專用硬體或軟體裝置。

    -   提供負載平衡、代理、監控或安全執行等功能
    -   在電腦網路中執行特定的任務

-   **Port Security**（連接埠安全）：限制和控制網路存取的安全功能，只允許授權裝置連接到特定的實體或邏輯網路部分。
    -   基於媒體存取控制（MAC）地址進行驗證
    -   防止未授權存取和潛在安全漏洞
    -   相關技術包括 **802.1x**（連接埠基礎網路存取控制標準）和 **EAP**（可擴展認證協定）

## 安全通訊技術

-   **Secure Network Communications**（安全網路通訊）：確保網路資料傳輸安全的各種方法和技術。

    -   **VPN**（虛擬私人網路）：建立加密通道以安全連接遠端網路
    -   **IPSec Tunnels**（IPSec 通道）：提供網際網路協定層級的安全加密
    -   **TLS**（傳輸層安全協定）：提供網頁瀏覽器與伺服器間加密通訊，保護敏感資訊免受竊聽和篡改

-   **SD-WAN**（軟體定義廣域網路）：應用軟體定義網路原則管理和優化廣域網路連接的技術。

    -   智能路由和優先處理網路流量
    -   改善網路效能並透過動態選擇最有效的數據傳輸路徑來增強安全性
    -   可跨多種網路連接（如寬頻、行動網路、MPLS 等）
    -   提供集中式管理和控制

-   **SASE**（安全存取服務邊緣）：整合網路安全和廣域網路的雲端服務框架。
    -   結合安全服務（防火牆、安全網頁閘道、VPN、零信任網路存取）與 SD-WAN 功能
    -   為用戶、裝置和應用程式提供安全且可擴展的網路資源存取
    -   透過雲原生架構簡化網路和安全管理
    -   提升效能和靈活性

## 基礎設施考量因素

-   **Infrastructure Considerations**（基礎設施考量因素）：設計和實施安全基礎設施時需要考慮的重要因素。

    -   **Device Placement**（裝置放置）：安全設備的實體和邏輯位置
    -   **Security Zones and Screened Subnets**（安全區域與屏蔽子網）：網路分區策略以提高安全性
    -   **Attack Surface**（攻擊面）：可能被攻擊者利用的系統暴露點
    -   **Connectivity Concerns**（連接性考量）：不同網路連接方式的安全影響
    -   **Device Attributes**（裝置屬性）：主動式 vs. 被動式、內聯式 vs. 分流監控式
    -   **Failure Modes**（故障模式）：故障開放（Fail-Open）vs. 故障關閉（Fail-Closed）

-   **Selection of Infrastructure Controls**（基礎設施控制選擇）：選擇適合組織需求的網路安全控制方法。
    -   根據組織獨特需求量身定制安全架構
    -   確保安全架構既穩健又符合特定需求

# 連接埠與協定

## 基本概念

-   **Port**（連接埠）：存在於電腦或伺服器上的邏輯通訊端點，是網路連線的「開口」。

    -   連接埠用數字表示，範圍從 0 到 65,535
    -   連接埠允許特定類型的網路通訊進出系統

-   **Protocol**（協定）：定義的一組規則和慣例，用來規範裝置或系統間的通訊和資料交換方式，指定訊息的格式和順序。
    -   協定決定了如何透過特定連接埠進行通訊
    -   每個連接埠通常與特定協定關聯

## 連接埠類型

-   **Inbound Port**（入站連接埠）：電腦或伺服器用於接聽連線請求的連接埠。

    -   例如：網頁伺服器開啟 443 連接埠來監聽使用者的連線請求
    -   入站連接埠持續保持開放狀態，等待連線

-   **Outbound Port**（出站連接埠）：電腦要連線到特定伺服器時開啟的連接埠。
    -   通常使用高編號隨機連接埠（如 51233）
    -   連線結束後會自動關閉

## 連接埠編號分類

-   **Well-Known Ports**（知名連接埠）：範圍 0-1023。

    -   由 IANA（Internet Assigned Numbers Authority，網際網路號碼分配機構）指定
    -   用於常見且通用的網路服務和協定
    -   例如：HTTP（80）、HTTPS（443）

-   **Registered Ports**（註冊連接埠）：範圍 1024-49151。

    -   供廠商為專有協定註冊使用
    -   使用前必須向 IANA 註冊
    -   例如：Microsoft SQL Server（1433）、RDP（3389）

-   **Dynamic/Private Ports**（動態/私人連接埠）：範圍 49152-65535。
    -   無需向 IANA 註冊即可使用
    -   常用於臨時出站連線、遊戲、即時通訊等
    -   用戶端通常從此範圍隨機選擇連接埠

## 常見連接埠與協定

-   **FTP**（檔案傳輸協定）：透過網路在主機間傳輸檔案。

    -   連接埠：21
    -   傳輸協定：TCP
    -   用途：檔案上傳/下載

-   **SSH**（安全殼層協定）：提供安全的遠端終端存取和檔案傳輸功能。

    -   連接埠：22
    -   傳輸協定：TCP
    -   用途：安全遠端存取、SCP（安全複製）、SFTP（安全檔案傳輸協定）

-   **Telnet**（遠端登入協定）：用於遠端存取網路裝置的協定。

    -   連接埠：23
    -   傳輸協定：TCP
    -   用途：文字型遠端存取（無加密，不安全）

-   **SMTP**（簡單郵件傳輸協定）：負責發送電子郵件。

    -   連接埠：25
    -   傳輸協定：TCP
    -   用途：電子郵件傳送

-   **DNS**（網域名稱系統）：將網域名稱轉換為 IP 位址。

    -   連接埠：53
    -   傳輸協定：TCP 和 UDP
    -   用途：網域名稱解析

-   **TFTP**（簡易檔案傳輸協定）：簡化版的檔案傳輸協定。

    -   連接埠：69
    -   傳輸協定：UDP
    -   用途：常用於網路型作業系統

-   **HTTP**（超文本傳輸協定）：用於擷取網頁。

    -   連接埠：80
    -   傳輸協定：TCP
    -   用途：非加密網頁瀏覽

-   **Kerberos**（網路認證協定）：提供安全認證服務。

    -   連接埠：88
    -   傳輸協定：UDP
    -   用途：網路認證

-   **POP3**（郵局協定第三版）：從伺服器擷取電子郵件。

    -   連接埠：110
    -   傳輸協定：TCP
    -   用途：電子郵件接收

-   **NNTP**（網路新聞傳輸協定）：用於存取新聞群組。

    -   連接埠：119
    -   傳輸協定：TCP
    -   用途：新聞群組存取

-   **RPC**（遠端程序呼叫）：促進不同系統程序間的通訊。

    -   連接埠：135
    -   傳輸協定：TCP 和 UDP
    -   用途：常用於 Windows 檔案共享系統

-   **NetBIOS**（網路基本輸入輸出系統）：網路協定套件。

    -   連接埠：137、138、139
    -   傳輸協定：UDP 和 TCP
    -   用途：Windows 網域環境中的網路名稱共享、檔案和印表機共享

-   **IMAP**（網際網路訊息存取協定）：允許存取伺服器上的電子郵件。

    -   連接埠：143
    -   傳輸協定：TCP
    -   用途：電子郵件存取

-   **SNMP**（簡單網路管理協定）：用於管理網路裝置。

    -   連接埠：161
    -   傳輸協定：UDP
    -   用途：網路裝置管理

-   **SNMP Traps**（SNMP 陷阱）：負責發送 SNMP 陷阱訊息。

    -   連接埠：162
    -   傳輸協定：UDP
    -   用途：發送 SNMP 陷阱訊息

-   **LDAP**（輕量級目錄存取協定）：用於目錄服務。

    -   連接埠：389
    -   傳輸協定：TCP
    -   用途：目錄服務

-   **HTTPS**（超文本傳輸安全協定）：提供安全的網頁通訊程序。

    -   連接埠：443
    -   傳輸協定：TCP
    -   用途：加密網頁瀏覽，顯示為瀏覽器中的鎖頭圖示

-   **SMB**（伺服器訊息區塊）：用於網路檔案和印表機共享。

    -   連接埠：445
    -   傳輸協定：TCP
    -   用途：檔案和印表機共享

-   **SMTPS**（安全 SMTP）：提供安全的 SMTP 通訊。

    -   連接埠：465 或 587
    -   傳輸協定：TCP（使用 SSL 或 TLS）
    -   用途：加密電子郵件傳送

-   **Syslog**（系統日誌）：用於發送日誌訊息的協定。

    -   連接埠：514
    -   傳輸協定：UDP
    -   用途：系統日誌訊息傳送

-   **LDAPS**（安全 LDAP）：LDAP 透過 SSL/TLS 加密連線。

    -   連接埠：636
    -   傳輸協定：TCP
    -   用途：加密目錄服務通訊

-   **IMAPS**（安全 IMAP）：IMAP 透過 SSL/TLS 加密連線。

    -   連接埠：993
    -   傳輸協定：TCP
    -   用途：安全電子郵件擷取

-   **POP3S**（安全 POP3）：POP3 透過 SSL/TLS 加密連線。

    -   連接埠：995
    -   傳輸協定：TCP
    -   用途：安全電子郵件擷取

-   **Microsoft SQL**：促進與 Microsoft SQL 伺服器的通訊。

    -   連接埠：1433
    -   傳輸協定：TCP
    -   用途：資料庫通訊

-   **RADIUS**（遠端認證撥入使用者服務）：用於遠端認證、授權和記帳的協定。

    -   連接埠：1645 和 1646（TCP 版本）
    -   連接埠：1812 和 1813（UDP 版本）
    -   傳輸協定：TCP 或 UDP
    -   用途：網路認證和授權

-   **RDP**（遠端桌面協定）：用於遠端桌面存取。

    -   連接埠：3389
    -   傳輸協定：TCP
    -   用途：圖形化遠端存取

-   **Syslog TLS**（TLS 加密系統日誌）：安全加密版本的 Syslog。
    -   連接埠：6514
    -   傳輸協定：TCP
    -   用途：加密系統日誌訊息傳送

## 連接埠範圍總結

依據 Wikipedia 和 Mediu 的資料，連接埠可分為三個範圍：

-   **知名連接埠（0-1023）**：常用網路服務指定的標準連接埠
-   **註冊連接埠（1024-49151）**：指派給使用者程序或應用程式
-   **動態/私人連接埠（49152-65535）**：用於臨時連線和用戶端連線

攻擊者常利用連接埠掃描來發現開放的連接埠和服務，進而利用未修補的漏洞、弱密碼驗證或錯誤配置進行攻擊。

# 防火牆技術

## 基本概念

-   **Firewall**（防火牆）：一種網路安全裝置或軟體，根據預設的安全規則監控和控制進出網路的流量，以保護網路免受未授權訪問和潛在威脅。

    -   可以是硬體設備或安裝在客戶端/伺服器上的專用軟體。
    -   主要任務是檢查和控制嘗試進入或離開網路邊界的流量。

-   **Screened Subnet**（屏蔽子網）：在內部網路與外部網路之間創建的保護區域（DMZ）。
    -   又稱為 **Dual-homed Host**（雙宿主機）配置。
    -   在外部不受信任網路與內部受信任網路之間充當保護屏障。
    -   通常配備封包過濾防火牆或其他安全機制。
    -   能有效過濾流量，僅允許合法和授權的數據流通過。

## 防火牆類型

-   **Packet Filtering Firewall**（封包過濾防火牆）：執行最低級別檢查的防火牆。

    -   僅檢查封包標頭以決定是否允許或拒絕流量。
    -   基於 IP 位址和埠號進行判斷。
    -   運作方式類似於使用存取控制清單的路由器。
    -   無法防禦 IP 欺騙、封包分割攻擊或 TCP 握手攻擊。
    -   又稱為 **Layer 4 Firewall**（第四層防火牆），因為它在 OSI 模型的第四層運作。

-   **Stateful Firewall**（狀態檢測防火牆）：追蹤所有連接和請求狀態的防火牆。

    -   除了基本的標頭檢查外，還能識別從網路發出的對外請求。
    -   根據連接狀態決定是否允許或接受進入網路的流量。
    -   例如：當你訪問網站時，狀態防火牆會記住這一點，並允許該網站的回傳流量。

-   **Proxy Firewall**（代理防火牆）：位於內部和外部網路連接之間，代表其他端點建立連接。

    -   有兩種類型：**Circuit Level**（電路層）和 **Application Level**（應用層）代理防火牆。
    -   **Circuit Level Firewall**（電路層防火牆）：如 SOCKS 防火牆，在 OSI 模型的第五層（會話層）運作。
    -   **Application Level Proxy**（應用層代理）：進行更深層的封包檢查，在 OSI 模型的第七層為每種應用程式執行不同的代理功能。
    -   能夠區分處理不同類型的應用流量（如 HTTP 與 FTP）。

-   **Kernel Proxy Firewall**（核心代理防火牆）：又稱為第五代防火牆。
    -   在兩個系統之間創建連接，代表它們進行通信。
    -   最大特點是在對封包進行全面檢查的同時，對網路性能影響極小。
    -   應放置在盡可能靠近所保護系統的位置，以獲得最佳效率。

## 進階防火牆技術

-   **NGFW**（Next-Generation Firewall，下一代防火牆）：嘗試克服傳統狀態防火牆的不足。

    -   能識別不同類型的應用流量（應用感知）。
    -   執行單一深度封包檢查，並使用基於簽名的入侵防護措施。
    -   運行速度快，對網路性能影響小。
    -   對流量具有完整堆疊可見性，可通過創建自定義簽名提供更精細的流量控制。
    -   被視為複雜設備，可與其他多種安全產品整合。
    -   可能導致組織依賴單一供應商。
    -   根據 cloudflare，NGFW 結合了傳統防火牆功能與進階安全功能。

-   **UTM**（Unified Threat Management，統一威脅管理）：提供在單一設備內執行多種安全功能的能力。

    -   整合多種專用設備功能：網路防火牆、網路入侵防護系統、閘道防毒和反垃圾郵件、VPN 集中器、內容過濾、負載平衡和資料洩漏防護。
    -   優點：
        -   減少技術人員需要學習、操作和維護的設備數量
        -   降低成本、維護量和能源消耗
        -   安裝和配置更加簡單
    -   缺點：
        -   成為網路中的單一故障點
        -   通常缺乏專用工具提供的詳細功能
        -   性能可能不如單功能設備高效
    -   使用獨立引擎執行每個安全功能，而非 NGFW 使用的單一高效引擎。
    -   建議放置在 LAN 與互聯網連接之間，作為內聯配置的閘道防火牆。

-   **WAF**（Web Application Firewall，網頁應用防火牆）：專注於 HTTP/HTTPS 流量檢查的專用防火牆。
    -   使用特定規則集防止常見的網頁應用攻擊，如跨站腳本攻擊和 SQL 注入。
    -   可安裝為獨立設備或作為網頁伺服器的軟體插件。
    -   部署方式：
        -   內聯部署：放置在網路防火牆和網頁伺服器之間，可防止即時攻擊，但可能減慢網頁流量並誤封合法流量。
        -   非內聯部署：通過交換器的鏡像或 SPAN 埠接收流量副本，不干擾網路流量，但無法阻止即時攻擊，類似入侵檢測系統。

## 按 OSI 層級分類的防火牆

-   **Layer 4 Firewall**（第四層防火牆）：在傳輸層運作，根據埠號和協議數據做出過濾決策。

    -   不檢查個別數據封包的內容。
    -   等同於前文提到的封包過濾防火牆。

-   **Layer 7 Firewall**（第七層防火牆）：又稱為應用代理或應用防火牆。
    -   在應用層運作。
    -   可基於數據負載的內容和特性進行檢查、過濾和控制流量。
    -   等同於前文提到的應用層代理防火牆。

# 防火牆配置

## 防火牆基礎概念

-   **Firewall**（防火牆）：監控和過濾進出網路的流量的網路安全裝置，基於預定規則允許或阻擋特定資料流。

    -   可以是硬體設備或軟體程式
    -   主要功能是隔離網路，將網路劃分成不同安全區域（Zone）
    -   防火牆無法防範網路內部攻擊、社交工程攻擊或已感染病毒的檔案傳輸

-   **Access Control List (ACL)**（存取控制清單）：放置在防火牆、路由器或其他網路基礎設施上的規則集，用於允許或拒絕通過特定介面的流量。

    -   規則包含流量類型、來源、目的地和應採取的動作等關鍵資訊
    -   以自上而下方式執行，首先比對第一條規則，若符合則執行相應動作並結束比對
    -   最佳實踐是將特定規則放在清單頂部，通用規則放在底部

-   **Implicit Deny**（隱含拒絕）：防火牆功能，自動拒絕所有未被明確允許的流量。
    -   即使裝置支援隱含拒絕，最佳實踐仍是在 ACL 末尾添加明確的「拒絕所有」規則
    -   確保只有授權流量能進入網路

## 防火牆類型

-   **Hardware Firewall**（硬體防火牆）：實體防火牆設備，通常安裝在網路邊界，保護整個網路。

    -   小型辦公室/家庭辦公室(SOHO)通常使用無線路由器作為硬體防火牆
    -   可保護連接到同一網路的所有設備
    -   硬體防火牆通常透過網頁介面進行配置

-   **Software Firewall**（軟體防火牆）：安裝在個別設備上的防火牆程式，保護特定設備。
    -   Windows 系統內建的軟體防火牆為 Windows Defender Firewall
    -   macOS 也有內建軟體防火牆，可在系統偏好設定中啟用和配置
    -   提供更精細的個別設備網路流量控制

## 防火牆功能與配置

-   **Rule Sets**（規則集）：定義防火牆如何處理不同類型網路流量的指令集。

    -   包含允許（permit/allow）和拒絕（deny/block）語句
    -   規則的排列順序很重要，因為規則是自上而下處理的
    -   規則通常基於連接埠號，因為這些直接對應於要允許或阻止的應用程式或服務

-   **Port Forwarding**（連接埠轉發）：防火牆功能，允許外部設備通過特定連接埠連接到內部網路中的特定設備。

    -   用於允許外部流量進入內部網路中的特定伺服器
    -   例如，可將所有針對連接埠 21（FTP）的外部請求轉發到內部網路中的特定 FTP 伺服器
    -   這是明確允許特定類型流量通過防火牆的方式

-   **Port Triggering**（連接埠觸發）：動態連接埠轉發機制，當檢測到特定出站流量時，會臨時開放相關入站連接埠。
    -   與連接埠轉發類似，但更動態和安全
    -   連接埠僅在需要時才開放，不必持續保持開放狀態

## Windows Defender 防火牆配置

-   **Windows Defender Firewall**（Windows Defender 防火牆）：Windows 作業系統內建的軟體防火牆。

    -   提供入站規則、出站規則和詳細監控功能
    -   支援不同網路設定檔：網域（Domain）、私人（Private）和公用（Public）
    -   可透過圖形介面或命令列進行配置
    -   可匯出設定檔以便備份和復原

-   **Firewall Profiles**（防火牆設定檔）：Windows Defender 防火牆中定義不同網路環境的安全策略。
    -   網域設定檔：適用於連接到企業網域的環境
    -   私人設定檔：適用於家庭或信任的網路
    -   公用設定檔：適用於公共場所如咖啡廳的網路，安全性最高

## macOS 防火牆配置

-   **macOS Firewall**（macOS 防火牆）：蘋果電腦作業系統內建的軟體防火牆。

    -   可在系統偏好設定的安全性與隱私權中配置
    -   允許或封鎖應用程式層級的連接，而非基於連接埠的細節配置
    -   支援內建軟體和已簽署軟體的自動允許選項

-   **Stealth Mode**（隱匿模式）：macOS 防火牆功能，使設備不回應網路探測嘗試。
    -   當啟用此模式時，設備不會對 ping 或其他探測請求做出回應
    -   使設備在網路掃描中「隱形」，增加安全性
    -   可防止未經授權的網路掃描探測到設備

## 防火牆最佳實踐

-   **Logging**（記錄）：記錄防火牆採取的動作對於安全監控至關重要。

    -   應記錄所有符合規則條件的動作，包括允許和拒絕
    -   這包括底部「拒絕所有」規則的觸發
    -   記錄有助於安全審計和故障排除

-   **Rule Order**（規則順序）：規則順序對防火牆功能至關重要。
    -   特定規則應放在清單頂部
    -   通用規則應放在底部
    -   最後應有「拒絕所有」規則確保安全

# 入侵檢測與防禦系統

## 基本概念

-   **Intrusion Detection System (IDS)（入侵檢測系統）**：用於偵測未授權的網路存取或攻擊的安全系統

    -   主要功能：偵測、記錄、報告或警告可疑活動
    -   不會主動阻止攻擊，僅發出警報通知管理員或資安分析師

-   **Intrusion Prevention System (IPS)（入侵防禦系統）**：與 IDS 類似但具有主動回應功能的安全系統
    -   主要功能：偵測、記錄、警告並採取行動阻止可疑活動
    -   可執行的動作包括：阻擋可疑流量、防止應用程式執行、將無線裝置踢出網路

## IDS/IPS 系統類型

-   **Network-based IDS (NIDS)（網路型入侵檢測系統）**：監控進出網路的流量的獨立裝置

    -   通常設置於骨幹交換器的 SPAN 埠或鏡像埠
    -   主要偵測：網路攻擊或攻擊徵兆（如連接埠掃描、封包中的可疑內容、可疑 IP 或連接埠的流量）

-   **Host-based IDS (HIDS)（主機型入侵檢測系統）**：安裝於伺服器或端點上的軟體

    -   監控單一伺服器或端點的可疑網路流量
    -   同時檢查可疑的執行程序或被存取的檔案

-   **Wireless IDS (WIDS)（無線網路入侵檢測系統）**：專注於無線網路的監控系統

    -   偵測針對無線網路的攻擊，如：認證請求洪水攻擊、解除關聯攻擊、取消認證攻擊等

-   **Network-based IPS (NIPS)（網路型入侵防禦系統）**：具有阻擋能力的網路監控系統

    -   建議放置位置：網路邊界，防火牆後方
    -   所有流量需通過其檢查，可立即阻擋威脅

-   **Host-based IPS (HIPS)（主機型入侵防禦系統）**：具有防禦功能的主機保護軟體

    -   可阻止嘗試更改或覆寫關鍵系統檔案的程式

-   **Wireless IPS (WIPS)（無線網路入侵防禦系統）**：主動防禦無線網路攻擊的系統
    -   可阻止攻擊者發送的解除認證框架，並可能中斷攻擊者的連線

## 檢測方法

-   **Signature-based Detection（簽章式檢測）**：根據預定義的簽章分析流量

    -   只能識別資料庫中已有紀錄的攻擊
    -   需要頻繁更新才能保持有效性
    -   對零日攻擊（Zero-day）無效

-   **Pattern-matching（模式比對）**：簽章式檢測的一種，專注於識別攻擊中的特定步驟模式

    -   常用於網路型 IDS 和無線型 IDS

-   **Stateful-matching（狀態比對）**：簽章式檢測的一種，專注於系統已知基準狀態的變化

    -   常用於主機型 IDS

-   **Anomaly-based Detection（異常式檢測）**：分析流量並與正常基準比較以判斷威脅
    -   又稱行為式檢測（Behavioral-based Detection）
    -   可能產生較高的誤報率（False Positive）
    -   五種異常式檢測系統：
        -   Statistical（統計式）
        -   Protocol（協議式）
        -   Traffic（流量式）：追蹤歷史流量模式，報告異常高或低的情況
        -   Rule or heuristic（規則或啟發式）
        -   Application-based（應用程式式）

## 部署考量

-   **NIPS 部署位置**：應放置於網路邊界，防火牆後方，使所有流量通過以便阻擋威脅

-   **NIDS 部署位置**：應通過骨幹交換器的鏡像埠連接，以被動方式分析所有流量

-   **部署策略**：大型網路可能同時使用 NIPS 和 NIDS，並在網路的戰略位置放置多個裝置

-   **誤報與漏報**：使用 IPS 時需特別注意降低誤報（False Positive）和漏報（False Negative）的機率
    -   誤報可能導致正常活動被錯誤阻擋
    -   漏報可能使惡意流量未被阻擋

## IDS 與 IPS 的主要區別

-   **IDS**：只能偵測（detect only）
-   **IPS**：可以偵測並反應（detect and react）

# 網路設備

## 網路設備類型與功能

-   **Network Appliance**（網路設備）：專用硬體設備，搭載預先安裝的軟體，設計用於提供特定網路服務，如安全性、資料儲存或伺服器功能。

## 主要類型

-   **Load Balancer**（負載平衡器）：用於將網路或應用程式流量分配到多個伺服器的關鍵元件。

    -   提高伺服器使用效率，防止單一設備被用戶需求壓垮
    -   維持冗餘性和可靠性，降低依賴單一伺服器的風險
    -   執行持續性伺服器健康檢查，確保伺服器能回應請求
    -   當伺服器故障時，自動將流量重新導向至其他正常運作的伺服器
    -   協助最小化伺服器停機時間，無論是預期（維護）或非預期（系統故障）的停機
    -   透過動態且透明的重新導向，確保服務不中斷，用戶體驗最小影響

-   **Application Delivery Controller**（應用程式交付控制器，ADC）：負載平衡器的進階版本。

    -   除了基本負載分配外，還提供更多功能
    -   包含 SSL 終端、HTTP 壓縮和內容快取等功能
    -   提升高可用性網路的效率和效能
    -   在雲端環境中，可利用雲服務的靈活性和可擴展性，更有效處理流量突增

-   **Proxy Server**（代理伺服器）：作為客戶端和伺服器之間的中介，提供各種功能。

    -   提供內容快取、請求過濾和登入管理等功能
    -   儲存客戶端存取的資料副本，允許後續本地檢索
    -   加快請求處理速度，同時減少頻寬使用量
    -   透過管理登入和請求過濾，協助執行組織的網路使用政策
    -   增加額外安全層，確保遵循特定網路協定
    -   抵禦外部威脅，如分散式阻斷服務（DDoS）攻擊
    -   通過隱藏真實端點，提供模糊性以防直接攻擊
    -   在負載平衡過程中扮演重要角色，處理並分配請求
    -   可實施用戶驗證協定，更安全地引導流量
    -   某些進階代理伺服器可處理資料加密，為敏感資訊提供安全通道
    -   協助遵守法規要求，如資料主權法，通過適當路由確保資料不跨越地理邊界

-   **Sensor**（感測器）：用於監控、檢測和分析網路流量和資料流的設備。

    -   識別異常活動、潛在安全漏洞、效能問題或操作效率低下情況
    -   提供即時洞察，讓網路管理員了解正在進行的活動並主動回應
    -   協助效能監控，追蹤網路服務的回應速度和可用性
    -   檢測效能異常，如可能導致服務降級的意外流量峰值
    -   觸發警報，讓網路運維團隊進行調查和解決問題
    -   作為對抗網路威脅的第一道防線
    -   是入侵檢測系統和入侵防禦系統的重要組成部分
    -   基於已建立的模式或行為，識別可能的安全漏洞
    -   例如：檢測來自未知 IP 位址的突然大量資料請求，可能表示 DDoS 攻擊

-   **Jump Server**（跳板伺服器）：也稱為 **Jump Box**（跳板機），是系統管理員用來安全存取位於不同安全區域內設備的專用閘道。
    -   是高安全性和高可用性網路架構的關鍵部分
    -   作為存取受信任網路內伺服器和網路設備的中介站
    -   確保對受保護設備的直接存取僅限於特定工作站或伺服器
    -   提供受控入口點，減少網路攻擊面，防止潛在威脅達到敏感區域
    -   對不能承受停機或資料外洩的系統提供強大保護層
    -   通過單一高度安全且受監控的系統路由所有管理任務
    -   確保只有經過驗證的用戶才能執行變更或存取敏感資料
    -   簡化活動記錄，方便審計和追蹤誰在何時存取了什麼資訊
    -   在網路攻擊或系統故障時，提供詳細連接日誌，加速事件回應恢復過程
    -   通常託管系統管理員需要的各種工具和指令碼
    -   配備先進監控軟體，監督系統健康狀況，迅速識別和修復效能問題或安全漏洞

## 結論

以上四種網路設備共同確保企業網路基礎設施的高效、安全和高性能運作：

-   負載平衡器優化多伺服器效能，防止單一伺服器過載
-   代理伺服器管理資料流，提升安全性和內容控制
-   感測器監控網路狀況，提供即時資料優化系統和安全
-   跳板伺服器提供安全中介平台，讓管理員存取不同安全區域的設備

# 交換器連接埠安全

-   **Port Security**（連接埠安全）：網路交換器上的一種常見安全功能，允許管理員根據網路介面卡的 MAC 位址來限制哪些裝置可以連接到特定連接埠。

    -   通過啟用連接埠安全，組織可以防止未經授權的裝置訪問網路，從而提高網路安全性。
    -   可以將特定 MAC 位址與特定介面關聯，限制只有預先批准的裝置才能使用該連接埠。

-   **Transparent Bridging**（透明橋接）：交換器用於在基於發送和接收裝置的 MAC 位址做出流量交換決定的處理過程。

    -   與集線器不同，交換器使用智能技術防止網路衝突。

-   **Full Duplex Mode**（全雙工模式）：允許連接埠同時發送和接收數據而不會對傳輸的流量產生負面影響的運作模式。

    -   提高了流量的安全性，因為只有被數據所指向的裝置才會收到該數據的副本。

-   **CAM Table**（內容可定址記憶體表）：用於儲存關於任何交換器連接埠上可用的 MAC 位址的資訊的表格。

    -   交換器會記住根據裝置的 MAC 位址連接到哪個交換器連接埠，從而只將流量轉發到參與特定對話的連接埠。

-   **MAC Flooding**（MAC 洪水攻擊）：攻擊者使用的一種技術，通過向交換器發送大量隨機 MAC 位址來導致 CAM 表溢出。

    -   當 CAM 表溢出時，交換器會開放失效並開始像集線器一樣運作，將所有流量廣播到交換器的每個連接埠，從而失去安全優勢。

-   **Sticky MAC/Persistent MAC Learning**（黏性 MAC/永續性 MAC 學習）：一種功能，允許介面動態關聯連接到該交換器連接埠的第一個 MAC 位址作為連接埠安全的授權 MAC 位址。

    -   這可以防止任何其他 MAC 位址連接到該交換器連接埠，簡化了設置過程。

-   **MAC Spoofing**（MAC 欺騙）：攻擊者通過將自己的網路介面卡的 MAC 位址重設為預先批准清單上的已知良好 MAC 位址來繞過 MAC 過濾的技術。

    -   這種攻擊方式使得僅依靠 MAC 位址過濾的安全措施變得不夠安全。

-   **802.1x Authentication**（802.1x 認證）：一種用於有線和無線網路的基於連接埠的認證標準框架。

    -   需要三種不同角色：請求者（supplicant）、認證者（authenticator）和認證服務（authentication service）。
    -   請求者：請求訪問網路的裝置或使用者。
    -   認證者：請求者嘗試通過其訪問網路的裝置，如網路交換器、無線接入點或 VPN 集中器。
    -   認證服務：執行認證的中央化裝置，通常配置為 RADIUS 或 TACACS+ 伺服器。

-   **Extensible Authentication Protocol (EAP)**（可擴展認證協議）：一個框架和一系列協議，允許多種不同的認證方式，包括簡單密碼、數位憑證和公鑰基礎設施的使用。

    -   它不是單一協議，而是一個框架，支持多種認證方法。

-   **EAP-MD5**：EAP 的一種變體，使用簡單密碼和挑戰握手認證過程提供遠程訪問認證。

    -   被視為單向認證過程，不提供相互認證。
    -   需要使用長、強和複雜的密碼來維持系統安全性。

-   **EAP-TLS**：使用公鑰基礎設施的 EAP 形式，需在客戶端和伺服器上安裝數位憑證作為認證形式。

    -   對密碼基礎攻擊免疫，因為雙方都不使用密碼，而是使用數位憑證識別自己。
    -   被視為相互認證的形式，因為客戶端和伺服器都會對彼此進行認證。

-   **EAP-TTLS**：EAP 的另一種變體，需要伺服器上有數位憑證，但客戶端不需要。

    -   客戶端使用密碼進行認證過程，使其比傳統的 EAP-MD5 更安全。

-   **EAP-FAST**：代表「通過安全隧道的靈活認證」，使用受保護的訪問憑證而非憑證建立裝置間的相互認證。

-   **PEAP**（Protected EAP，受保護的 EAP）：支持相互認證，使用伺服器憑證和 Microsoft Active Directory 數據庫來認證客戶端的密碼。

-   **EAP-LEAP**（Lightweight EAP，輕量級 EAP）：由思科開發的專有協議，只在思科設備上工作。

    -   如果網路中有非思科裝置，建議使用其他類型的 EAP。

-   **RADIUS**：一種跨平台協議，可作為認證者角色。

    -   使用 UDP 作為傳輸協議，操作較快但安全性稍低。
    -   不支持 NetBIOS 框架協議和 X.25 PAD 連接等某些網路協議。

-   **TACACS+**：思科專有設備使用的協議。

    -   使用 TCP 作為傳輸協議，操作較慢但安全性更高。
    -   支持所有網路協議，並獨立進行認證、授權和計帳處理。

-   **Switch Port Security Violation Modes**（交換器連接埠安全違規模式）：當未授權裝置嘗試連接到受保護連接埠時的不同反應模式。
    -   每個連接埠有允許的最大唯一 MAC 位址數。

透過整合連接埠安全、802.1x 和 EAP，組織可以顯著提高網路安全性，確保只有經過認證和授權的裝置才能訪問關鍵和敏感資源。

# 網路安全通訊協議

-   **Virtual Private Network (VPN)** （虛擬私人網路）：一種安全加密的連接，用於在公共網路上建立私密連接通道。

    -   允許使用者從遠端辦公室或家中安全地連接到組織的私人網路。
    -   建立安全隧道，使資料能夠在不受信任的網路上安全傳輸。
    -   可以配置為站點對站點 VPN、客戶端對站點 VPN 或無客戶端 VPN。

-   **Transport Layer Security (TLS)** （傳輸層安全性協定）：提供網路通訊加密和可靠性的協定，主要在 OSI 模型的上層（第 5、6、7 層）運作。

    -   使用傳輸控制協定(TCP)建立客戶端與伺服器之間的安全連接。
    -   常用於 HTTPS 連接，保護網頁瀏覽時的資料傳輸安全。
    -   作為無客戶端 VPN 的基礎技術。

-   **Datagram Transport Layer Security (DTLS)** （資料包傳輸層安全性協定）：TLS 協定的 UDP 版本。

    -   提供與 TLS 相同的安全級別，但因為 UDP 協定的特性而運行更快。
    -   適用於視訊串流等需要低延遲的應用場景。
    -   防止竊聽、篡改和訊息偽造。

-   **Internet Protocol Security (IPSec)** （網際網路協定安全）：用於保護 IP 通訊的安全協定套件。

    -   提供機密性、完整性、認證和防重放攻擊保護。
    -   是當今建立和操作 VPN 最常用的協定。
    -   建立安全 VPN 隧道的五個主要步驟：請求開始金鑰交換、IKE 第一階段、IKE 第二階段、資料傳輸、IPSec 隧道終止。

-   **Site-to-site VPN** （站點對站點 VPN）：連接兩個網路地點的 VPN。

    -   提供替代租用專線的經濟方案。
    -   適用於連接分支辦公室與總部。
    -   通常使用 IPSec 隧道模式實現。
    -   建立兩個路由器之間的安全隧道，使所有流量在這兩個站點之間加密傳輸。

-   **Client-to-site VPN** （客戶端對站點 VPN）：個人設備直接連接到遠端伺服器的 VPN。

    -   允許個別用戶如筆記型電腦、手機或平板電腦連接到總部網路。
    -   常用於遠端工作或在家辦公場景。
    -   通常使用 IPSec 傳輸模式實現。
    -   從單一主機（如筆記型電腦、手機或平板電腦）發送資料直接連接到總部辦公室。

-   **Clientless VPN** （無客戶端 VPN）：通過網頁瀏覽器建立安全 VPN 連接。

    -   不需要安裝專用軟體或硬體客戶端。
    -   使用 HTTPS 連接和 TLS 協定加密資料。
    -   如同瀏覽 HTTPS 網站時所建立的安全連接。
    -   通過 443 埠使用 TLS 協定來加密發送到和接收自網站的資料。

-   **Full tunnel VPN** （完全隧道 VPN）：所有網路請求都透過 VPN 連接路由和加密。

    -   將所有流量導向總部網路，無論目的地或服務位置在哪裡。
    -   被視為更安全的 VPN 方式。
    -   連接時，客戶端被視為完全屬於總部網路的一部分。
    -   無法訪問本地資源（如家庭辦公室的無線印表機），因為所有流量都通過 VPN。

-   **Split tunnel VPN** （分割隧道 VPN）：將流量分割並路由到適當的連接或網路。

    -   只有針對總部網路的流量透過 VPN 路由和加密。
    -   其他流量直接從用戶位置發送到網際網路。
    -   提供更好的效能，但安全性較低。
    -   允許直接訪問互聯網資源（如 Zoom 會議或 Office 365），同時維持對企業資源的安全連接。

-   **Internet Key Exchange (IKE)** （網際網路金鑰交換）：IPSec 中用於建立安全關聯的協定。

    -   分為兩個階段：第一階段驗證雙方並建立安全通道；第二階段協商安全關聯參數。
    -   確保 VPN 通道的安全建立和使用。
    -   負責密鑰交換和安全參數協商。
    -   IKE 第一階段建立 ISAKMP 隧道，第二階段創建隧道中的隧道。

-   **Authentication Header (AH)** （認證標頭）：IPSec 中提供無連接資料完整性和資料來源認證的協定。

    -   提供對重放攻擊的保護。
    -   不提供資料的機密性。
    -   包含資料的加密雜湊值，作為發送方和接收方之間完整性的識別資訊。
    -   在傳輸前和接收後檢查雜湊摘要以確保資料完整性。

-   **Encapsulating Security Payload (ESP)** （封裝安全承載）：IPSec 中提供認證、完整性、防重放和資料機密性的協定。

    -   允許在加密格式中重寫封包的有效負載。
    -   只保護封包內含有效負載的機密性，不保護標頭本身。
    -   在傳輸模式下，可與認證標頭一起提供 TCP 標頭的完整性和加密。
    -   在隧道模式下，可與認證標頭一起提供有效負載的完整性和加密，包括端到端標頭。

-   **Transport mode** （傳輸模式）：IPSec 的一種操作模式，使用封包的原始 IP 標頭。

    -   用於客戶端對站點 VPN。
    -   適用於當封包大小增加可能導致問題的情境。
    -   不增加封包大小，不需要進行額外的封裝。
    -   適用於不想超過最大傳輸單位大小的場景。

-   **Tunneling mode** （隧道模式）：IPSec 的另一種操作模式，封裝整個封包並添加新的標頭。

    -   用於站點對站點 VPN。
    -   增加封包大小，可能超過標準 MTU 大小。
    -   適用於連接兩個網站之間的 VPN。
    -   類似於把一個信封裝在另一個信封中，外層信封有不同的地址（新標頭）。

-   **Maximum Transmission Unit (MTU)** （最大傳輸單位）：網路可傳輸的最大封包大小。

    -   大多數網路的預設 MTU 為 1,500 位元組。
    -   超過 MTU 的封包會被分片，可能導致 VPN 功能問題。
    -   在使用隧道模式時可能需要調整 MTU 大小或啟用巨型幀。
    -   可以將內部路由器的最大 MTU 降低到 1,400 位元組，為 VPN 隧道封裝留出空間。

-   **Jumbo frames** （巨型幀）：大於標準 MTU 的封包。
    -   可提高到最多 9,000 位元組的大小。
    -   適用於本地網路中，不適合跨越整個網際網路。
    -   在站點對站點 VPN 中使用隧道模式時可能需要啟用。
    -   只應在自己控制的本地網路上使用。

# SD-WAN 與 SASE 技術

## 核心技術

-   **SD-WAN**（軟體定義廣域網）：一種虛擬化方法，用於管理和優化廣域網連接，有效地在遠端站點、資料中心和雲端環境之間路由流量。

    -   本質上是一種以軟體為基礎的廣域網架構，將所有控制從底層硬體中抽離出來
    -   可以覆蓋在多種網路傳輸類型上（如 MPLS、行動網路、微波連結或寬頻網路）
    -   透過集中式控制功能，安全且智能地重新導向 WAN 流量
    -   針對雲端優先企業設計，能夠提供優質的終端使用者體驗

-   **SASE**（安全存取服務邊緣）：一種結合網路安全和廣域網功能的框架，將它們整合為單一雲端原生服務，確保終端使用者無論實際位置如何都能獲得安全且無縫的存取。
    -   採用 SDN（軟體定義網路）技術，從雲端而非傳統硬體設備提供安全和網路服務
    -   包含多種安全服務：防火牆、VPN、零信任網路存取和 CASB（雲端存取安全代理）
    -   透過共同的政策和管理平台交付服務，實現更高效的網路目標
    -   解決了現代分散式企業的挑戰，包括行動性、雲端應用和多雲端服務的增加

## 兩者關係與技術優勢

-   **SD-WAN 與 SASE 的關係**：

    -   SD-WAN 是 SASE 解決方案的核心組件
    -   SASE 整合了 SD-WAN 的網路功能與多種安全技術
    -   轉向 SASE 架構可顯著增強 SD-WAN 的安全性，透過雲端交付模式整合網路和安全服務

-   **零信任與 SD-WAN**：
    -   在 SD-WAN 技術基礎上採用零信任架構可以徹底改變組織處理網路服務的方式
    -   透過精細的存取控制，網路可根據使用者內容和裝置狀態進行分段，有效減輕常見的網路威脅

## 雲端服務提供商的實現

-   **AWS**（Amazon Web Services）：

    -   **VPC**（虛擬私有雲）：提供安全靈活的網路基礎設施，可建立雲端虛擬網路並連接到現場資料中心或其他 AWS 服務

-   **Microsoft Azure**：

    -   **Azure Virtual WAN**：提供安全、全球性和高效的連接
    -   **Azure ExpressRoute**：建立 Azure 資料中心與現場網路基礎設施之間的專用私人連接

-   **GCP**（Google Cloud Platform）：
    -   **Google Cloud Interconnect**：透過專用私人連接將現場基礎設施連接到 GCP
    -   **Google Cloud VPN**：透過 IPSec VPN 通道安全地連接現場基礎設施到虛擬私有雲網路

## 傳統 WAN 與現代解決方案比較

-   **傳統 WAN 架構**：

    -   分支辦公室通常以星型拓撲連接到總部
    -   透過總部進行進階安全檢查再連接到網際網路
    -   雖然安全性高，但會導致終端使用者體驗不佳和生產力下降
    -   不是為整合雲端服務而設計的

-   **SASE 架構優勢**：
    -   統一的安全管理解決方案，整合網路和安全工具
    -   提供與環境無關的成本效益和位置無關的服務
    -   面向邊緣的動態安全方法，不再侷限於傳統以資料中心為基礎的邊界

## WAN 優化

-   **WAN 優化**：一系列用於提高 WAN 資料傳輸效率的技術
    -   SD-WAN 關注成本節約和效率，允許低成本網路連結執行昂貴專線的工作
    -   優化技術可以減少頻寬需求，改善延遲問題
    -   可用的解決方案包括 Cisco WAAS 和 HPE Aruba（前身為 Silver Peak Unity）等產品

# 網路基礎設施安全架構

-   **Infrastructure Considerations**（基礎設施考量）：網路基礎設施形成所有資訊技術環境的骨幹，設計時需考慮多種因素以影響網路的效率、安全性和韌性。

    -   主要考量包括：裝置放置位置、安全區域與隔離子網路的使用、了解攻擊面、確定連接方法、理解裝置屬性以及配置故障模式。

-   **Device Placement**（裝置放置）：在網路架構中戰略性地放置裝置的位置，以優化數據流量、降低延遲並提供強大的安全防護。

    -   路由器（Router）放置在網路邊緣可以有效引導和過濾進出流量。
    -   無線存取點（Access Point）應戰略性放置，以提供足夠覆蓋同時確保無線訊號保持在設施內部。
    -   交換器（Switch）作為大多數網路裝置的主要連接點，需放置在便於連接各種裝置的位置。
    -   不當的裝置放置可能導致網路瓶頸、漏洞點或連接性缺失區域。

-   **Security Zone**（安全區域）：網路中的獨立區段，通常透過防火牆或其他安全裝置進行邏輯隔離。

    -   設計用來包含具有相似安全需求和信任級別的裝置。
    -   例如，公司可能有不同區域用於面向公眾的服務、內部員工資源和敏感數據存儲。
    -   每個安全區域根據其包含數據的敏感度或分類設置不同的存取控制和安全政策。

-   **Screened Subnet**（隔離子網路）：作為組織內部網路與不受信任的外部網路（如網際網路）之間的保護層或緩衝區。

    -   過去稱為「DMZ」（非軍事區域），但近年來術語已改為「隔離子網路」。
    -   用於託管面向公眾的服務，如網頁伺服器、電子郵件伺服器和 DNS 伺服器。
    -   確保若隔離子網路內發生安全漏洞，攻擊者無法直接訪問包含敏感數據或系統的核心內部網路。
    -   提供額外的安全層，使惡意行為者更難到達組織網路最有價值的部分。

-   **Attack Surface**（攻擊面）：指網路中所有未授權用戶可嘗試輸入或提取數據的點。

    -   實質上是系統、網路或應用程序中所有潛在漏洞和風險點的總和。
    -   隨著網路增長和複雜化，攻擊面會不可避免地擴大。
    -   較大的攻擊面通常等同於較高的風險級別，因為惡意行為者有更多機會利用系統中的弱點。
    -   減少攻擊面需要識別漏洞並消除它們或實施適當控制以降低相關風險。

-   **Connectivity Methods**（連接方法）：網路不同組件相互通信的方式。

    -   傳統有線網路連接（如乙太網）提供更高的穩定性和速度，但限制了終端用戶的移動性。
    -   無線連接方法（如 Wi-Fi、微波鏈路和衛星連接）提供更大的靈活性和可擴展性，但可能受到干擾和安全漏洞的影響。
    -   光纖等較新的有線方法提供長距離高速數據傳輸，且信號衰減最小。
    -   混合方法可結合各種連接形式的優勢，確保網路增加冗餘層。
    -   選擇連接方法時應考慮可擴展性、速度需求、安全考量和預算限制。

-   **Device Attributes**（裝置屬性）：影響裝置在網路架構中使用方式的特性。

    -   主要分為主動（Active）和被動（Passive）裝置：
        -   主動裝置如入侵防禦系統（IPS）監控並對可疑或惡意網路流量採取行動。
        -   被動裝置如入侵檢測系統（IDS）僅觀察和報告網路流量，不干預或改變數據流。
    -   依據安裝方式分為內聯（Inline）和旁路（Tap）配置：
        -   內聯裝置位於網路流量的直接路徑上，能夠影響或阻止通過的流量。
        -   旁路和監控裝置放置在網路路徑之外，僅監聽網路活動而不影響實際流量。
    -   選擇取決於組織需求，例如需要實時威脅緩解的組織可能優先使用內聯安全設備，而專注於監控的組織可能選擇被動旁路或監控設備。

-   **Failure Mode**（故障模式）：決定裝置在遇到錯誤或故障時的行為方式。
    -   有兩種主要故障模式：故障開放（Fail-open）和故障關閉（Fail-closed）。
    -   **Fail-open**（故障開放）：
        -   裝置故障時允許流量通過，不進行檢查或過濾，以確保網路服務不中斷。
        -   例如，配置為故障開放的防火牆在故障時會允許所有進出數據自由流動，但不再提供安全保護。
    -   **Fail-closed**（故障關閉）：
        -   裝置故障時阻止所有流量，以確保網路安全性保持完整。
        -   例如，配置為故障關閉的防火牆在故障時會阻止所有進出數據，以維護數據和網路的安全性，但會完全中斷網路連接。
    -   選擇取決於組織的安全政策和裝置保護的網路區段的重要性。
        -   存儲敏感財務數據的數據中心可能選擇故障關閉模式。
        -   訪客無線網路可能選擇故障開放模式，確保使用者不間斷訪問。
