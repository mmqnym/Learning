# 網路鑑識

## 概要

- **Network Forensics**（網路鑑識）：使用適當工具或技術來確定惡意活動的過程
  - 對於識別通過網路進行的攻擊非常重要

- **Tcpdump**（網路封包分析工具）：用於進行網路鑑識的命令列工具
  - 可用於捕獲和分析網路流量
  - 是網路安全分析師常用的工具之一

- **Wireshark**（網路封包分析工具）：用於進行網路鑑識的圖形化工具
  - 提供詳細的封包捕獲和分析功能
  - 具有豐富的過濾和檢查功能

- **Flow Analysis**（流量分析）：分析網路中數據流動模式的技術
  - 用於識別異常網路行為
  - 有助於檢測潛在的安全威脅

- **IP Address Analysis**（IP 位址分析）：分析 IP 位址以識別可疑活動
  - 作為安全監控活動的一部分
  - 可幫助追蹤攻擊來源

- **DNS Analysis**（DNS 分析）：分析域名系統查詢和回應
  - 用於識別可能的惡意域名
  - 可檢測 DNS 隧道和其他基於 DNS 的攻擊

- **URL Analysis**（URL 分析）：分析網址以識別潛在威脅
  - 可檢測釣魚網站和惡意連結
  - 作為安全監控活動的一部分

- **Packet Analysis**（封包分析）：檢查網路封包內容的過程
  - 用於分析網路安全監控工具的輸出
  - 可識別網路上傳輸的惡意數據

# 網路鑑識工具

- **Network Forensic Tools**（網路鑑識工具）：用於收集和分析網路相關的入侵指標的工具
  - 可從封包捕獲、流量數據、日誌和警報中收集資訊
  - 網路安全分析師需要能夠分析這些資訊以識別異常活動

- **Indicators of Compromise**（入侵指標）：表明系統可能已被入侵的網路相關證據
  - 可從封包捕獲、流量數據、日誌和警報中獲取
  - 用於識別網路中的異常活動

- **SPAN**（交換埠分析器）：也稱為 Switched Port Analyzer，一種網路監控技術
  - 允許複製一個或多個交換機埠的入站或出站通訊到另一個埠
  - 也被稱為鏡像埠（Mirror Port）
  - 通過交換機或路由器配置來實現
  - 創建所有進出埠口流量的副本，以便進行監控

- **Packet Sniffer**（封包嗅探器）：記錄網路媒體上傳輸的資料幀的硬體或軟體
  - 使用鏡像埠（如 SPAN 埠）或 TAP 設備等方法
  - 用於捕獲網路流量以進行後續分析
  - 可以執行即時封包捕獲功能

- **Network TAP**（網路測試存取點）：一種硬體設備，用於收集網路線段上的數據
  - 有被動和主動版本
  - 可以從任何網路線段收集數據
  - 作為封包嗅探的一種實現方式

- **Sniffer Placement**（嗅探器放置）：網路嗅探器在網路中的戰略性位置
  - 通常應放置在防火牆內部
  - 或盡可能靠近重要伺服器
  - 目的是識別通過防火牆的惡意流量
  - 在防火牆內部放置可減少需要分析的數據量
  - 可以在網路中的不同位置放置多個嗅探器
  - 放置位置應基於威脅建模和保護重要資產的需求

- **tcpdump**（網路封包分析工具）：一種命令列介面的數據網路封包分析程式
  - 允許用戶顯示電腦所連接網路上傳輸或接收的 TCP/IP 和其他封包
  - 可以執行嗅探功能進行即時封包捕獲
  - 可以將資訊轉儲到 PCAP 文件中以供後續分析

- **Wireshark**（網路封包分析工具）：一種免費開源的圖形化封包分析器
  - 用於網路故障排除、分析、軟體和通訊協議開發以及教育
  - 提供圖形用戶界面（GUI）
  - 可以執行嗅探功能進行即時封包捕獲
  - 可用於分析 PCAP 數據

- **PCAP**（封包捕獲文件）：存儲捕獲的網路封包數據的文件格式
  - 全稱為 Packet Capture
  - 用於保存網路流量以供後續分析
  - 可以被 tcpdump 和 Wireshark 等工具讀取和分析


# 封包捕獲與流量分析

- **Full Packet Capture (FPC)**（完整封包捕獲）：捕獲進出網路的所有封包的完整內容，包括標頭和有效載荷
  - 需要大量儲存空間，數據量會迅速增長
  - 提供最完整的網路流量記錄
  - 捕獲網路上傳輸的每一個位元

- **Flow Analysis**（流量分析）：分析網路流量的元數據和統計資料，而非記錄每個資料幀
  - 使用流量收集器來記錄網路流量的元數據
  - 相比完整封包捕獲，節省大量儲存空間
  - 可以突顯流量趨勢和模式
  - 可以基於異常設置警報
  - 可以視覺化網路連接和流量模式
  - 有助於識別惡意行為、惡意軟體傳輸和隧道技術

- **Flow Collector**（流量收集器）：記錄網路流量元數據和統計資料的工具
  - 收集的資料可存儲在資料庫中供後續查詢
  - 可生成報告和圖表
  - 不記錄封包內容，只記錄流量相關資訊

- **NetFlow**（網路流量）：由思科開發的網路流量報告機制
  - 將網路流量資訊報告到結構化資料庫
  - 定義具有相同特徵的封包為特定流量
  - 可捕獲網路協議介面、IP 版本和類型、源和目標 IP 地址、源和目標埠等資訊
  - 提供元數據但不提供完整封包內容
  - 後來成為 IPFIX 標準的基礎

- **IPFIX**（IP 流量資訊匯出）：IP Flow Information Export，基於 NetFlow 發展的標準
  - 全名為 IP Flow Information Export
  - 是 NetFlow 技術的標準化版本
  - 允許定義基於共享特徵的流量

- **Zeek**（前稱 Bro，網路監控工具）：一種混合工具，可被動監控網路
  - 僅基於潛在興趣的數據記錄完整封包
  - 結合了流量分析和選擇性完整封包捕獲的優點
  - 減少儲存和處理需求
  - 執行數據標準化
  - 將數據存儲為制表符分隔或 JSON 格式的文本文件
  - 可與其他分析工具（如 Splunk）集成

- **MRTG**（多路由器流量繪圖器）：Multi Router Traffic Grapher，用於創建網路流量圖表的工具
  - 通過 SNMP 輪詢網路設備
  - 顯示通過路由器和交換機網路介面的流量
  - 有助於識別流量模式和異常
  - 可視化網路使用情況
  - 有助於識別可能的數據外洩活動

- **SNMP**（簡單網路管理協議）：Simple Network Management Protocol，用於收集網路設備資訊的協議
  - 被 MRTG 等工具用於輪詢網路設備
  - 提供網路設備的管理資訊

- **Data Exfiltration**（數據外洩）：未經授權從組織中移除數據的過程
  - 可能在非工作時間（如凌晨 2-4 點）進行以避免檢測
  - 可通過流量分析工具發現異常流量模式
  - 表現為網路流量的異常峰值
  - 需要進一步調查以確認是否為惡意活動

# IP 和 DNS 分析

- **Command and Control (C2) Server**（命令與控制伺服器）：攻擊者用來下載額外攻擊工具和外洩數據的伺服器
  - 許多入侵活動依賴 C2 伺服器進行操作
  - 網路安全分析師需特別關注對外部主機的存取請求
  - 識別這些伺服器通常依賴 IP 地址和 DNS 解析分析

- **Known-Bad IP Address**（已知惡意 IP 地址）：出現在一個或多個封鎖清單上的 IP 地址或 IP 地址範圍
  - 早期惡意軟體會在程式碼中配置特定的靜態 IP 或 DNS 名稱
  - 這些地址被識別後會被加入封鎖清單
  - 防禦者與攻擊者之間形成不斷封鎖與繞過的循環

- **Reputation-Based Risk Intelligence**（基於聲譽的風險情資）：通過識別已知惡意活動來源建立封鎖清單的方法
  - 用於創建 IP 或 URL 封鎖清單
  - 當發現惡意活動來源時，將其添加到清單中
  - 類似於「打地鼠」遊戲，攻擊者創建新域名，防禦者識別並封鎖

- **IP/URL Block List**（IP/URL 封鎖清單）：包含已知惡意 IP 地址或 URL 的清單
  - 用於防止與已知惡意來源的通信
  - 可包含惡意軟體類型的標識（如 RAT - 遠端存取木馬）
  - 有效性受限於攻擊者不斷變換域名的能力

- **Domain Generation Algorithm (DGA)**（域名生成演算法）：惡意軟體用來逃避封鎖清單的方法，通過動態生成命令和控制網路的域名
  - 取代靜態 IP 或域名，動態創建大量域名
  - 使用種子值（如時間或隨機數）生成加密字串作為域名
  - 實施過程包括五個步驟：
    1. 設置一個或多個動態 DNS 服務
    2. 在惡意軟體中實施 DGA 生成新域名列表
    3. 在 DDNS 服務中使用平行 DGA 創建名稱記錄
    4. 惡意軟體嘗試連接到生成的域名
    5. C2 伺服器定期傳達新種子以更改 DGA

- **Fast Flux Network**（快速流動網路）：惡意軟體用來隱藏 C2 網路存在的方法，通過持續更改域名記錄中的主機 IP 地址
  - 使用域名生成演算法實現
  - 不斷變換 IP 地址和域名，使封鎖變得困難
  - 是 DGA 技術的一部分

- **NXDOMAIN Error**（不存在域名錯誤）：當 DNS 解析器無法解析域名時產生的錯誤
  - 表示請求的域名不存在
  - 高頻率的 NXDOMAIN 錯誤可能是 DGA 的指標
  - 在使用快速流動網路時常見，因為域名可能已經更換

- **Secure Recursive DNS Resolver**（安全遞迴 DNS 解析器）：一種 DNS 解析方法，允許一個受信任的 DNS 伺服器與其他受信任的 DNS 伺服器通信以查找 IP 地址
  - 是緩解 DGA 的最佳方法
  - 使用受信任的 DNS 伺服器進行遞迴查詢
  - 這些伺服器通常維護 DGA 知識庫，可以主動封鎖惡意域名
  - 有助於保護網路免受 DGA 和快速流動網路的威脅

根據您提供的新字幕內容，我已整理出以下關於 URL 分析的專業術語筆記：

# URL 分析

- **URL**（統一資源定位符）：Uniform Resource Locator，用於指定網路上資源位置的地址
  - 用於在網頁瀏覽器中輸入以訪問網站
  - 網路安全分析師需要分析代理日誌或其他安全日誌中的 URL
  - 可用於確定訪問了哪些網站以及傳遞了什麼類型的數據

- **URL Analysis**（URL 分析）：識別連結是否已被標記在現有聲譽列表上的活動，或識別其中可能包含的惡意腳本或活動
  - 網路安全分析師工作的主要部分
  - 需要解析 URL 中的百分比編碼
  - 評估 URL 可能執行的重定向
  - 顯示 URL 調用的腳本源代碼而不執行它們
  - 應在沙盒環境中進行以避免感染自己的機器

- **HTTP Methods**（HTTP 方法）：一組請求方法，表示對給定資源執行的所需操作
  - **GET**：用於檢索資源的主要方法
  - **POST**：用於將數據發送到服務器進行處理
  - **PUT**：用於創建或替換請求的資源
  - **DELETE**：用於刪除指定的資源
  - **HEAD**：僅檢索資源的標頭，忽略主體部分

- **HTTP Response Codes**（HTTP 響應代碼）：服務器在客戶端請求 URL 時返回的標頭值
  - **200 系列**：表示成功的請求
    - 200：成功的 GET 或 POST 請求
    - 201：成功的 PUT 請求，已創建資源
  - **300 系列**：表示服務器進行了重定向
    - 301：永久重定向
  - **400 系列**：表示客戶端請求錯誤
    - 400：請求無法被服務器解析
    - 401：請求未提供身份驗證憑證
    - 403：請求沒有足夠的權限
    - 404：客戶端請求了不存在的資源
  - **500 系列**：表示服務器端問題
    - 500：應用程序服務器端的一般錯誤
    - 502：錯誤的網關
    - 503：服務器過載，導致服務不可用
    - 504：網關超時

- **Percent Encoding**（百分比編碼）：一種在 URL 上下文中對具有特定含義的八位字符進行編碼的機制
  - 也稱為 URL 編碼
  - 允許用戶代理在 URL 中提交任何安全或不安全的字符或二進制數據
  - 可被濫用來混淆 URL 的性質
  - 允許編碼非保留字符並提交惡意輸入
  - 常見編碼：
    - %3C：小於符號 (<)
    - %3E：大於符號 (>)
    - %20：空格
    - %3D：等號 (=)
    - %22：雙引號 (")
    - %2F：正斜線 (/)

- **Reserved Characters**（保留字符）：在 URL 中具有特殊含義的字符
  - 包括冒號、正斜線、問號、井號、括號、@符號、驚嘆號、美元符號、&符號、單引號、括號、星號、加號、逗號、分號和等號
  - 可以在 URL 中使用，但具有特殊含義

- **Unreserved Characters**（非保留字符）：在 URL 中可以自由使用的字符
  - 包括字母和數字（A-Z、0-9）
  - 連字符、句點、下劃線和波浪號

- **Unsafe Characters**（不安全字符）：不能在 URL 中使用的字符
  - 包括空字符串終止、回車、換行、文件結束、製表符、空格
  - 正斜線、小於符號、大於符號和花括號
  - 需要使用百分比編碼才能在 URL 中表示

- **Double Encoding**（雙重編碼）：一種高級混淆技術，攻擊者通過對百分比符號本身進行編碼來隱藏編碼
  - 使分析更加困難
