# 偵察與枚舉工具

## 基本概念

- **Reconnaissance and Enumeration**（偵察與枚舉）：在測試漏洞前盡可能收集目標資訊的過程

## 網站歷史分析工具

- **Wayback Machine**（網際網路檔案館）：網路的數位檔案庫
  - 可查看網站過去版本
  - 能發現隱藏目錄、過時檔案和已不在現有網站上顯示的資訊

## 電子郵件收集工具

- **The Harvester**（資料收割機）：專門從公開來源收集電子郵件地址的工具
  - 有助於了解目標組織的人員結構

- **Hunter.io**：電子郵件收集工具
  - 從各類公開資源收集與目標組織相關的電子郵件資料

## 開源情報工具

- **OSINT Tools**（開源情報工具）：從公開資訊來源收集數據的工具
  - 整合多種看似不重要的資訊，建構出目標的完整畫像

## 域名資訊查詢工具

- **Whois**（域名資訊查詢）：提供域名所有權資訊的工具
  - 了解域名擁有者可引導發現目標的更多相關資訊

## DNS分析工具

- **nslookup**（名稱伺服器查詢）：用於查詢DNS資訊的工具
  - 協助找出域名與IP位址之間的關聯

- **dig**（域名資訊收集器）：詳細查詢DNS記錄的命令行工具
  - 提供目標在線存在的結構洞察

- **DNSdumpster**：DNS偵察工具
  - 協助繪製目標域名環境的網路拓撲

- **Amass**（域名資產映射）：進階DNS偵察工具
  - 可發現子域名和相關服務
  - 由OWASP組織開發的開源專案

## 互聯網設備搜尋工具

- **Shodan**：互聯網搜尋引擎，專門查找連接至網路的設備
  - 可識別直接從互聯網訪問且可能存在漏洞的設備
  - 提供網路監控、API和全面的IP信息豐富功能

- **Censys.io**：類似Shodan的互聯網設備搜尋工具
  - 用於發現網路中的設備，如網路攝像頭、冰箱等連網裝置

## 網路流量分析工具

- **tcpdump**（流量轉儲工具）：強大的命令行封包分析器
  - 用於捕獲與分析網路流量，揭示網路活動資訊

- **Wireshark**（網路封包分析工具）：圖形化界面的封包分析器
  - 提供更友善的介面分析tcpdump捕獲的資料或直接從網路捕獲流量

## 無線網路分析工具

- **Wireless Analysis Tools**（無線網路分析工具）：專門用於檢查無線網路的工具集
  - 用於識別設備並了解它們如何通訊
  - 針對無線網路特有漏洞的重要安全評估工具

## 注意事項

- 使用偵察工具時必須考慮法律和道德限制
  - 美國《電腦詐欺與濫用法》(CFAA)明確指出：未經授權訪問資料（即使資料是公開的）可能違法
  - 只能在有適當授權的情況下進行偵察活動

# Wayback Machine 在滲透測試中的應用

- **Wayback Machine**（網際網路時光機）：一種網際網路存檔服務，允許使用者查看網站在過去不同時間點的樣貌
  - 網址：wayback-api.archive.org
  - 提供網站的歷史快照時間線，可點選查看特定日期的網站樣貌

## 在滲透測試中的應用價值

- **Reconnaissance**（資訊收集）：滲透測試的初始階段，目標是收集關於目標系統的盡可能多的資訊
  - Wayback Machine 是被動資訊收集的有效工具
  - 在進行任何主動測試前，充分的資訊收集至關重要

- **Historical Data Analysis**（歷史資料分析）：
  - 協助理解網站的發展、結構和過去的漏洞
  - 可發現已移除但仍具測試相關性的頁面或內容
  - 網站開發初期可能會留下一些包含敏感資訊的頁面

## 可發現的關鍵資訊

- **Sensitive Information**（敏感資訊）：透過歷史快照可能找到：
  - 舊的子網域（sub-domains）
  - 包含敏感資訊的特定頁面
  - 未修補的漏洞（unpatched vulnerabilities）

- **Website Evolution**（網站演變）：了解網站內容和結構的變化
  - 幫助識別模式或預測未來可能出現的安全問題
  - 分析主要改版可能引入的新功能和潛在安全問題
  - 有助於了解目標公司如何處理其安全措施

- **Technical Insights**（技術洞察）：
  - 舊目錄（old directories）
  - 過時的軟體版本（outdated software versions）
  - 暴露的資料（exposed data）

## 使用限制

- **Archive Limitations**（存檔限制）：
  - 動態生成的網站部分可能無法被存檔
  - 網站所有者可請求將其網站排除在存檔之外
  - 並非所有歷史資訊都能完整獲取

## 最佳實踐

- **Integration**（整合應用）：始終將 Wayback Machine 作為滲透測試侵入前的資訊收集階段工具
  - 屬於被動式資訊收集工具，不會直接與目標系統交互
  - 在進入主動測試階段前，最大化收集可用資訊
  - 提供歷史情境，揭示可能被遺忘的系統細節

# 資安工具：theHarvester 與 Hunter.io

## 開源情報收集工具

- **theHarvester**（開源情報收集工具）：一種開源的情報收集工具，用於收集關於網域、電子郵件地址、IP 地址和子網域的資訊。
  - 在滲透測試的偵察階段非常有用，可自動化從多種公開來源（如搜尋引擎、社群媒體平台和其他公共資料庫）收集資料
  - 可透過自動化搜尋流程，簡化滲透測試初期的資訊收集工作
  - 能夠發現電子郵件地址，有助於了解組織結構並制定有針對性的釣魚攻擊或社交工程策略
  - 發現的子網域可擴大測試範圍，提供更多潛在目標，例如目錄存取錯誤配置，可能導致目錄遍歷攻擊
  - 可發現隱藏的開發環境（如 dev.diontraining.com），這些環境通常比生產環境安全性更弱

## 電子郵件搜尋工具

- **Hunter.io**（電子郵件搜尋工具）：專門用於尋找和驗證專業電子郵件地址的基於網頁的工具。
  - 可協助發現公司使用的電子郵件格式模式，提供對組織聯絡結構的洞察
  - 對需要收集聯絡資訊進行社交工程攻擊或識別公司關鍵人員的滲透測試人員非常有用
  - 使用簡單：輸入要調查的公司網域，Hunter.io 會返回與該網域關聯的電子郵件地址清單
  - 提供公司使用的電子郵件格式（如 firstname.lastname@company.com），即便某些郵件沒被直接發現，也能據此生成潛在的電子郵件地址清單
  - 適用於測試員工對釣魚攻擊的警覺性，可收集已驗證的電子郵件進行受控釣魚活動，評估公司安全培訓的有效性並識別需改進的領域

## 實際應用案例

- **滲透測試應用**（Penetration Testing Application）：將 theHarvester 和 Hunter.io 結合使用，可以建立目標外部存在的詳細地圖。
  - 對計劃和執行有效的滲透測試至關重要
  - 在大型組織中，員工往往難以驗證電子郵件的真實性，使他們成為釣魚攻擊的主要目標
  - 透過這些工具收集的資訊可用於創建針對性的釣魚郵件，如「檢測到不尋常活動」的安全驗證郵件
  - 這些工具能加強資訊收集過程，提高滲透測試任務的整體成功率

# 資訊收集與枚舉

## 主要工具概述

- **OSINT**（開源情報）：指從公開來源收集的資訊，包括搜尋引擎、社群媒體平台、資料外洩資料庫等。
  - 在滲透測試中非常有用，特別是在偵察階段，可全面收集公開資訊，為後續更有針對性的評估階段奠定基礎。

## 核心工具詳解

- **OSINTframework.com**（開源情報框架）：一個綜合性的目錄，提供從公開來源收集資訊的工具和資源。
  - 將資源分類為搜尋引擎、社群媒體、公共記錄和技術資源等類別。
  - 作為滲透測試的絕佳起點，提供精選的工具和資源清單，幫助高效收集資料。
  - 用法示例：點擊 Email 按鈕，再點擊 Email Search 按鈕，即可獲得相關工具列表。

- **Maltego**（資料挖掘工具）：強大的資料挖掘工具，提供圖形化介面，用於連接和視覺化不同資訊間的關係。
  - 特別適用於映射人員、公司、網域和 IP 地址之間的連接。
  - 包含內建的「轉換器」（transforms），可從多種來源提取資料，包括社群媒體、DNS 記錄和公共資料庫。
  - 使用場景：調查疑似網路釣魚活動時，可視化呈現網域、電子郵件和 IP 地址間的連接關係。
  - 實例應用：分析可疑電子郵件（如 info@secure-diontraining.com 和 admin@diontraining.secure.com）時，能發現不同郵件可能連結到相同 IP 地址，或不同網域共享相同註冊資訊。

- **SpiderFoot**（自動化偵察工具）：自動化的偵察工具，從超過一百個公共資料源收集目標的廣泛資料。
  - 可執行任務包括足跡偵測（footprinting）、開放埠掃描、收集社群媒體資訊、DNS 記錄和線上資料庫資料。
  - 高度可定制，允許根據需求定義特定模組執行。
  - 自動化偵察過程，節省時間並提供全面結果。
  - 應用場景：評估小型企業在線存在的安全性，快速編譯企業網域、IP 地址和暴露服務的詳細報告。
  - 可揭示錯誤配置、過時軟體和其他漏洞，為滲透測試提供重點方向。

## 工具功能整合

- **OSINTframework.com**：提供精選資源清單
- **Maltego**：提供資料關係的圖形化介面
- **SpiderFoot**：自動化從多個來源收集資料

# 資安工具：recon-ng

- **recon-ng**：是一個可擴充的資訊收集框架工具，可以簡單的安裝欲使用的模組，例如查詢子域名、密碼等，之後載入即可收集相關資訊。

# DNS 資訊收集工具

- **Domain Name System (DNS)（網域名稱系統）**：將網域名稱對應至 IP 位址的分散式命名系統
  - 用於查詢域名與 IP 位址之間的對應關係
  - 在網路基礎設施中扮演重要角色

## DNS 查詢工具

- **nslookup（名稱伺服器查詢）**：網路管理工具，用於查詢 DNS 以獲取域名或 IP 位址的映射
  - 基本用法：`nslookup 目標域名`
  - 查詢結果包含：DNS 伺服器資訊、非權威回應（non-authoritative answer）及 IP 位址
  - 現代環境（如雲端服務商）通常需要配置多個 DNS 伺服器

- **特定查詢選項（query options）**：可針對特定 DNS 記錄類型進行查詢
  - 查詢郵件伺服器：`nslookup -type=mx 目標域名` 或 `nslookup -q=mx 目標域名`
  - 語法格式中不能包含空格（例如：`-type=mx`）
  - 結果會顯示郵件交換伺服器（mail exchange servers）的資訊

- **互動模式（interrupted prompt）**：nslookup 的另一種使用方式
  - 先輸入 `nslookup` 進入互動模式
  - 然後可使用 `set type=mx` 等指令設定查詢類型
  - 再輸入要查詢的域名

- **dig（domain information groper，域名資訊查詢）**：更靈活的 DNS 名稱伺服器查詢工具
  - 基本用法：`dig 目標域名`
  - 提供更詳細的輸出，包含問題（question）、回答（answer）、權威（authority）及其他部分
  - 主要應關注「回答區段」（answer section）

- **dig 常用選項**：
  - MX 記錄查詢：`dig 目標域名 MX`
  - 簡短輸出：`dig +short 目標域名`
  - 反向查詢：`dig -x IP位址`（從 IP 反查域名）
  - 移除所有輸出，只顯示回答區段：`dig +noall +answer 目標域名`

**NOTE:**考試提示

- 熟悉各工具命令的輸出格式和外觀
  - nslookup 輸出格式較簡潔
  - dig 輸出格式較詳細，區段明確
  - 能夠根據輸出識別使用的是哪個工具

## 記錄類型

- **A 記錄（Address Record）**：將域名映射到 IPv4 位址
  - 基本的 DNS 記錄類型，用於域名解析

- **MX 記錄（Mail Exchange Record）**：指定處理域名電子郵件的伺服器
  - 用於電子郵件路由和傳遞
  - 通常按優先級排序

- **權威伺服器（Authoritative Name Servers）**：負責控制特定域名的 DNS 伺服器
  - 提供最終、權威的 DNS 資訊

# 資安工具：DNSDumpster 與 Amass

## 基本概念與工具

- **Reconnaissance**（偵查）：在滲透測試中收集目標資訊的過程
  - 目的是識別潛在的弱點和攻擊面
  - 常用於滲透測試前期階段

- **Enumeration**（枚舉）：系統性地收集和分類目標資訊的技術
  - 包含識別主機名稱、網路資源和服務等
  - 為後續的滲透測試提供關鍵情報

## DNSDumpster

- **DNSDumpster**（DNS資料收集工具）：一種免費的網域研究工具，提供關於目標DNS基礎設施的信息
  - 幫助映射目標的數位足跡，識別相關的子網域、IP位址和MX記錄
  - 特別適合揭示目標的DNS環境，這往往能提供關鍵網路信息

- **功能與優勢**
  - 提供目標DNS記錄的清晰可視化表示
  - 可發現未從主網站直接連結但屬於組織基礎設施的子網域
  - 能識別DNS設置中的潛在錯誤配置，如暴露的郵件伺服器或應已移除的舊記錄

- **實際應用案例**
  - 能夠發現如`dev.diontraining.com`等開發環境，這些環境通常安全性較低
  - 可識別使用較弱密碼或過時軟體的子網域，提供潛在的入侵點
  - 協助發現如開放轉發（open relays）等安全漏洞

- **Open Relays**（開放轉發）：配置錯誤的SMTP伺服器，允許任何網路用戶透過它們發送電子郵件
  - 不論用戶是否經過授權，都能使用這些伺服器
  - 此類錯誤配置可能導致DNS區域傳輸漏洞

## Amass

- **Amass**（資產映射工具）：由OWASP開發的開源工具，用於執行深入的DNS枚舉和映射目標的外部資產
  - 使用各種技術收集信息，包括從公共來源被動收集信息、主動DNS探測和子網域暴力破解
  - 維持活躍的更新，確保跟上最新技術和方法

- **主要特點**
  - 整合超過80個數據源和API收集信息
  - 提供目標外部網域環境的全面視圖
  - 由OWASP積極維護，提供高可靠性和可信度

- **功能與技術**
  - 支援讀取SSL/TLS證書
  - 能執行DNS區域傳輸
  - 檢查證書透明度日誌
  - 支援遞歸子網域發現
  - 可使用Hashcat風格的掩碼進行子網域暴力破解

- **子命令**
  - `amass intel`：發現目標名稱空間以進行枚舉
  - `amass enum`：執行枚舉和網路映射
  - `amass db`：操作Amass圖形數據庫

- **配置與整合**
  - 可通過配置文件設定，便於維護和使用
  - 易於與其他工具和腳本整合
  - 可組合使用子命令，創建無縫執行多個Amass操作的腳本

- **使用案例**
  - 命令範例：`amass enum -passive -d owasp.org -source`用於被動枚舉owasp.org網域
  - 可識別主網域託管於第三方伺服器的情況，這些伺服器可能有不同的安全控制
  - 幫助理解安全邊界所在以及可能需要額外審查的區域

## 工具比較與結論

- **DNSDumpster** 協助快速視覺化和理解目標的DNS環境，揭示子網域和潛在錯誤配置
  - 提供了簡單的網頁介面，適合快速檢查

- **Amass** 作為OWASP的命令行工具，提供目標外部資產的詳細映射
  - 結合被動和主動技術來發現隱藏的子網域和網域關係
  - Amass專注於DNS枚舉和網路映射

- 這兩種工具能增強收集目標詳細和全面信息的能力，為成功的滲透測試奠定基礎

# 資安工具：Shodan 和 Censys.io

## 資源搜尋工具

- **Shodan**（互聯網設備搜尋引擎）：專門索引連接到互聯網的各類設備
  - 與常規搜尋引擎不同，Shodan 索引的是實際連網裝置，而非網頁
  - 掃描互聯網尋找可公開訪問的設備，提供其配置和漏洞的詳細信息
  - 可索引的設備類型：網路攝影機、路由器、伺服器、工業控制系統等
  - 對滲透測試人員特別有用，可識別互聯網上暴露的設備和服務

- **Censys.io**（互聯網情報平台）：提供詳細的互聯網情報數據，協助組織發現風險並緩解威脅
  - 源於密歇根大學的研究項目
  - 專注於全互聯網掃描，支持威脅獵捕和攻擊面管理
  - 與 Shodan 類似，但提供更為詳細和結構化的數據
  - 具有強大的查詢功能，可以編寫複雜查詢來搜索特定類型的設備、配置或漏洞

## Shodan 功能與應用

- **設備識別**（Device Identification）：能找到運行特定版本網頁伺服器軟件的所有設備
  - 有助於定位可能易受已知漏洞攻擊的目標

- **地理位置追蹤**（Geolocation Tracking）：提供設備的地理位置、IP 地址等數據
  - 有時還包括設備名稱和標語等元數據

- **預設憑證檢測**（Default Credentials Detection）：可發現使用預設認證的設備
  - 實例：在對動物園的物聯網基礎設施進行測試時，可發現暴露於互聯網且使用預設密碼的安全攝像頭

- **警報功能**（Alert Feature）：可為特定 IP 範圍或關鍵字設置警報
  - 當發現符合條件的新設備時，Shodan 會通知您
  - 適用於持續監控網路或追蹤新出現的漏洞

## Censys.io 功能與應用

- **高級查詢能力**（Advanced Querying Capabilities）：允許編寫複雜查詢
  - 可搜索特定類型的設備、配置或漏洞
  - 例如：查找運行特定作業系統版本的所有設備，或識別具有特定安全錯誤配置的伺服器

- **資料視覺化**（Data Visualization）：提供視覺化工具，幫助理解設備分佈和安全狀況
  - 例如：查看某個國家或網路中有多少設備運行過時軟件

- **詳細結果呈現**（Detailed Results）：針對目標提供全面的服務與設備資訊
  - 實例：對於 hackthissite.org 網站的掃描結果顯示：
    - IP 地址：137.184.0.56（位於美國加州的 DIGITALOCEAN-ASN）
    - 開放端口：22（SSH）、80（HTTP）、111（PORTMAP）、443（HTTPS）、8000（HTTP）
    - 系統標籤：bootstrap、jquery、開放目錄、遠程訪問服務等

- **API 訪問**（API Access）：提供 API 接口，允許將其搜索功能整合到您自己的工具和工作流程中
  - 適用於自動化偵察任務或將 Censys 數據整合到更大規模的安全評估中

## 滲透測試應用價值

- **攻擊面識別**（Attack Surface Identification）：兩種工具都能全面了解目標的外部基礎設施
  - 例如：發現開放 SSH 端口（22）可能暗示存在暴力攻擊或 SSH 漏洞利用的機會
  - 在端口 80、443 和 8000 上的 Web 服務可能是 SQL 注入或跨站腳本攻擊的潛在目標

- **易用性優勢**（Usability Advantage）：提供圖形化用戶界面，降低使用門檻
  - 對於不熟悉命令行界面工具的人尤其有幫助

- **情報收集增強**（Intelligence Gathering Enhancement）：使用這些工具可增強收集目標外部基礎設施綜合信息的能力
  - 為成功的滲透測試奠定基礎

# tcpdump 命令列封包捕獲工具

- **tcpdump**（命令列封包捕獲工具）：一個功能強大的命令列工具，用於網路流量捕獲。
  - 允許使用者攔截並顯示在連接的網路上傳輸或接收的封包
  - 廣泛用於網路管理員和滲透測試人員，因其能提供詳細的網路活動視圖

- **主要應用場景**（使用情境）：
  - 滲透測試期間了解目標網路的通訊模式
  - 通過捕獲封包了解使用的協議
  - 識別網路中通訊的設備
  - 根據觀察到的流量檢測潛在漏洞
  - 監控特定設備的網路流量
  - 調查企業網路中的數據洩漏情況

- **基本指令格式**（命令結構）：
  - 在特定介面上捕獲所有流量：`tcpdump -i eth0`
  - 捕獲特定主機的封包：`tcpdump host example.com`
  - 捕獲特定端口的流量：`tcpdump port 80`
  - 將捕獲的封包保存至檔案：`tcpdump -w capture.pcap`

- **範例指令解析**（命令分析）：
  ```
  tcpdump -i eth0 host example.com port 80 -w capture.pcap
  ```
  - `tcpdump`：主要命令，用於呼叫 tcpdump 工具捕獲網路封包
  - `-i eth0`：指定監聽的網路介面為 eth0
  - `host example.com`：過濾捕獲的封包，僅包括與 example.com 相關的流量
  - `port 80`：過濾流量僅包含使用 80 端口的封包（通常是 HTTP 流量）
  - `-w capture.pcap`：指定輸出文件，將捕獲的封包儲存為名為 capture.pcap 的檔案

- **Berkeley Packet Filter**（伯克利封包過濾器語法）：
  - 允許應用複雜過濾器，只捕獲感興趣的封包
  - 使分析特定類型流量更容易
  - 可過濾顯示包含特定數據模式的封包或特定協議交換的封包

- **與其他工具配合使用**（工具整合）：
  - 可與 Wireshark 等更豐富的圖形化封包分析工具配合使用
  - 使用 tcpdump 捕獲流量後，用 Wireshark 進行詳細分析
  - 這種組合允許進行更詳細的網路流量檢查，更容易識別和理解安全問題

- **實際應用案例**（使用案例）：
  - 網站應用測試：捕獲與應用互動時的流量，觀察發送和接收的數據
  - 識別漏洞：如不安全的 API 端點、未加密的數據傳輸或不當的會話處理
  - 即時監控流量：檢測進行中的攻擊，如流量異常峰值或意外連接
  - 調查數據洩漏：觀察未加密流量中的敏感信息（如用戶名和密碼）

- **tcpdump 的價值**（工具優勢）：
  - 功能強大且多功能的網路流量捕獲和分析工具
  - 提供網路通信模式的詳細見解
  - 幫助識別潛在漏洞
  - 可與其他工具結合進行更深入分析
  - 掌握 tcpdump 將顯著增強進行徹底偵察和枚舉的能力

# Wireshark 在滲透測試中的應用

## 概念

- **Wireshark**（網路封包分析工具）：一種強大的網路分析工具，能夠捕獲並即時顯示網路上傳輸的資料封包。
  - 本質上是一個封包分析器（packet analyzer），可以實時捕獲和顯示網路流量。
  - 對於理解設備間的通訊、識別潛在漏洞和繪製網路結構至關重要。

## 在偵察（Reconnaissance）階段的應用

- **Passive Recon**（被動偵察）：通過 Wireshark 進行的不與目標系統主動交互的情報收集方式。
  - 透過捕獲封包，可以觀察使用中的協議類型、涉及的 IP 地址，甚至特定細節如開放端口和運行的服務。
  - 例如：捕獲大量 HTTP 流量可推斷目標網路上運行著網頁伺服器。

- **OSI Model Analysis**（OSI 模型分析）：用 Wireshark 解析捕獲封包的各層級資訊。
  - 從實體層到應用層，Wireshark 允許測試人員查看諸如 MAC 地址、IP 地址、TCP/UDP 端口以及封包的實際負載等詳細資訊。
  - 這種精細的視圖有助於識別錯誤配置，如非標準端口上運行的服務或未加密傳輸的敏感資訊。

## 在枚舉（Enumeration）階段的應用

- **Enumeration**（枚舉）：主動與目標交互以提取更詳細信息的步驟。
  - 使用 Wireshark 監控來自枚舉活動（如網路掃描、ping 掃描和服務探測）的響應。
  - 若運行 Nmap 掃描來識別開放端口和服務，Wireshark 將捕獲發送的封包及目標的回應。
  - 這種詳細的可見性有助於理解回應中的異常或意外行為，可能表明存在安全機制或潛在漏洞。

- **Nmap Scan Analysis**（Nmap 掃描分析）：透過 Wireshark 分析 Nmap 掃描結果。
  - 能捕獲 Nmap 發送的 SYN 封包和目標的 SYN-ACK 回應。
  - 可檢視 SSH 等服務的版本標誌（banner），識別運行的軟體版本是否過時並易受已知漏洞攻擊。

## 進階應用技術

- **On-Path Attack**（中間人攻擊）：使用 Wireshark 捕獲和分析中間人攻擊流量。
  - 在滲透測試中，可以攔截兩台設備之間的通信以捕獲敏感信息。
  - 例如：攔截客戶端和伺服器之間的 HTTP 流量，捕獲整個會話並提取登入憑證或會話 cookie 以便日後重放。

- **Traffic Pattern Analysis**（流量模式分析）：識別網路中的不安全協議使用。
  - 可設置 Wireshark 捕獲特定網段的所有流量，識別如 Telnet 或未加密 FTP 等過時協議的使用。
  - 這些觀察結果可提供可行的洞察，納入最終報告中，詳述這些不安全做法如何被攻擊者利用。

## 實例分析

- **Telnet Data Stream**（Telnet 數據流）：展示明文傳輸的安全風險。
  - 捕獲的流量可顯示以明文形式傳輸的登入憑證，表明顯著的安全缺陷。
  - Telnet 在不加密的情況下傳輸數據，使攻擊者或滲透測試人員容易攔截敏感信息。

- **DNS Traffic Analysis**（DNS 流量分析）：揭示網路內部結構。
  - 通過分析 DNS 流量，可以識別內部主機名和潛在的敏感內部資源。
  - DNS 查詢和回應提供關於域及其相關 IP 地址的信息，有助於繪製網路圖並識別進一步枚舉的目標。

- **SQL Injection Detection**（SQL 注入檢測）：通過 Wireshark 識別 SQL 注入嘗試。
  - 檢查 HTTP 請求參數中可疑的編碼字符，這些字符在 SQL 注入攻擊中很常見。
  - 例如：GET 請求到 hack/password.pl 的參數表明該端點容易受到 SQL 注入攻擊。

# 無線網路探查與滲透測試工具

## 無線網路偵察與枚舉工具概覽

以下是三款用於無線網路偵察、枚舉和滲透測試的重要工具：

## Aircrack-ng

- **Aircrack-ng**（無線網路破解工具套件）：一套用於評估無線網路安全性的綜合工具集
  - 包含用於封包截取、分析和破解 WEP、WPA 及 WPA2-PSK 金鑰的工具
  - 廣泛應用於滲透測試，評估 Wi-Fi 網路安全性和識別潛在漏洞
  - 在偵察階段可用於截取無線網路流量並分析弱點
  - 能夠截取 WPA/WPA2 網路連線時的四向交握（four-way handshake）過程
  - 截取交握後可使用字典攻擊或其他技術嘗試破解網路金鑰
  - 使用時需將無線網卡設定為監聽模式（monitor mode），以截取空中的所有流量
  - 包含去認證攻擊（de-authentication attacks）工具，可強制裝置與網路中斷連線並重新連接，便於捕獲破解密碼所需的交握過程
  - 有助於測試網路安全措施的強健性並展示潛在漏洞給客戶

## InSSIDer

- **InSSIDer**（Wi-Fi 掃描器）：一款用於視覺化和分析周圍無線網路的 Wi-Fi 掃描工具
  - 提供所偵測網路的詳細資訊，包括訊號強度、頻道使用情況和安全設定
  - 特別適用於識別訊號重疊和頻道干擾，這些因素會影響無線網路的效能和安全性
  - 能進行目標區域的無線環境徹底分析
  - 可識別特定位置的所有 Wi-Fi 網路，並查看它們在不同頻道上的分布情況
  - 有助於識別偽造的接入點（rogue AP），如模仿合法網路命名規則的可疑接入點
  - 能夠繪製訊號強度和覆蓋區域，找出訊號質量不佳的區域
  - 協助調整接入點位置和頻道設定，提高網路效能和安全性

## WiGLE.net

- **WiGLE.net**（無線網路資料庫）：收集全球無線網路資訊的網站和數據庫
  - 使用者可透過裝置對 Wi-Fi 網路進行地圖繪製，資訊會透過 WiGLE.net 平台提供
  - 允許依據位置、SSID 和其他條件搜尋 Wi-Fi 網路
  - 對偵察階段極為有用，提供無需親自到場就能收集特定區域無線網路資訊的方法
  - 可識別目標位置周圍特定 Wi-Fi 網路的存在，並收集其安全設定和訊號強度資料
  - 在遠端辦公室的滲透測試準備階段，可預先收集該區域的無線網路資訊
  - 協助識別無線網路部署模式，如常見的 SSID 或預設設定，可能顯示出潛在漏洞

## 綜合應用

- 綜合使用這三種工具可加強收集目標無線基礎設施的全面資訊能力
  - **Aircrack-ng**：截取和分析無線流量，嘗試破解網路金鑰
  - **InSSIDer**：視覺化和優化無線環境
  - **WiGLE.net**：提供全球無線網路資訊，用於初步偵察
  - 這些工具結合使用能為成功的滲透測試奠定基礎
